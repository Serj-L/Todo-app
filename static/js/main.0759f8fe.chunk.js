(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{15:function(t,e,r){t.exports={listWrapper:"TodoList_listWrapper__1FrVT",list:"TodoList_list__1pJK_",listItem:"TodoList_listItem__F9TIp",listItemTitle:"TodoList_listItemTitle__2TUD6",listItemIconWrapper:"TodoList_listItemIconWrapper__29PaU",listControlsWrapper:"TodoList_listControlsWrapper__1UQNC",listControlsCounter:"TodoList_listControlsCounter__QdPX5",listControlsSortBtnWrapper:"TodoList_listControlsSortBtnWrapper__12-ZA",listControlsSortBtn:"TodoList_listControlsSortBtn__1cKwx",listControlsClrCompletedBtn:"TodoList_listControlsClrCompletedBtn__xl6JT",listFooter:"TodoList_listFooter__3AeVU"}},22:function(t,e,r){t.exports={authForm:"AuthForm_authForm__1BJCN",title:"AuthForm_title__3Kxxe",text:"AuthForm_text__2uUZL",loginLabel:"AuthForm_loginLabel__3NjMS",passwordInputWrapper:"AuthForm_passwordInputWrapper__2xMgh",passwordInput:"AuthForm_passwordInput__1qAHB",loginInput:"AuthForm_loginInput__15aie",icon:"AuthForm_icon__XfQxh",switcherWrapper:"AuthForm_switcherWrapper__ItgfI",switcherLabel:"AuthForm_switcherLabel__A49DT",btn:"AuthForm_btn__AU6Kb"}},28:function(t,e,r){t.exports={infoTitle:"TodoListPage_infoTitle__11lP7",loaderWrapper:"TodoListPage_loaderWrapper__1Xkl5",modalTodoContent:"TodoListPage_modalTodoContent__1YatH",modalBtnWrapper:"TodoListPage_modalBtnWrapper__VpNu-",btn:"TodoListPage_btn__hXzsr",modalInputLabel:"TodoListPage_modalInputLabel__BUqNR",modalInput:"TodoListPage_modalInput__1wxXg"}},30:function(t,e,r){t.exports={wrapper:"UserAvatar_wrapper__17137",userAvatar:"UserAvatar_userAvatar__1R8Ny",userAvatarTooltip:"UserAvatar_userAvatarTooltip__15VqX",tooltipHeader:"UserAvatar_tooltipHeader__2tKSA",tooltipTitle:"UserAvatar_tooltipTitle__M0zrv",tooltipIconWrapper:"UserAvatar_tooltipIconWrapper__2oUvm",tooltipText:"UserAvatar_tooltipText__1Tf5O",tooltipBtn:"UserAvatar_tooltipBtn__2w9gN"}},33:function(t,e,r){t.exports={modalWrapper:"Modal_modalWrapper__7nqx_",modalLayout:"Modal_modalLayout__1rlZA",modal:"Modal_modal__252d6",modalHeader:"Modal_modalHeader__sKFNx",modalTitle:"Modal_modalTitle__MRF7G",btnClose:"Modal_btnClose__23lMX",modalContent:"Modal_modalContent__WvNje"}},37:function(t,e,r){t.exports={App:"App_App__NTmYt",appContainer:"App_appContainer__3MAe8",header:"App_header__2_lE6",headerTitle:"App_headerTitle__1rR20",controlsWrapper:"App_controlsWrapper__1ZEK4",userAvatar:"App_userAvatar__3SAfa"}},45:function(t,e,r){t.exports={checkBoxWrapper:"CustomCheckbox_checkBoxWrapper__2ymCS",checkIconWrapper:"CustomCheckbox_checkIconWrapper__IYs6l",checkBox:"CustomCheckbox_checkBox__3g8KM"}},46:function(t,e,r){t.exports={addTodoForm:"AddTodoForm_addTodoForm__2pxyK",addTodoFormBtn:"AddTodoForm_addTodoFormBtn__2aESp",todoTitleInput:"AddTodoForm_todoTitleInput__RmYYP"}},52:function(t,e,r){t.exports={snackBarWrapper:"SnackBar_snackBarWrapper__1dXTV",snackBarText:"SnackBar_snackBarText__3A4TG"}},56:function(t,e,r){t.exports={wrapper:"AuthPage_wrapper__em4TG"}},58:function(t,e,r){t.exports={wrapper:"ThemeSwitcher_wrapper__2YKnb"}},59:function(t,e,r){t.exports={loader:"Loader_loader__10c9P","lds-ring":"Loader_lds-ring__5f4W9"}},76:function(t,e,r){},77:function(t,e,r){"use strict";r.r(e);var o,n,a,c,s,i=r(6),d=r.n(i),l=r(41),u=r.n(l),p=r(40),h=r(60),b=r(11),j=r(29);!function(t){t.LOGIN="/auth",t.TODOLIST="/"}(o||(o={})),function(t){t.THEMETYPE="TodoAppThemeType",t.USERAUTHTOKEN="TodoAppAuthToken"}(n||(n={})),function(t){t.LIGHT="light",t.DARK="dark"}(a||(a={})),function(t){t.ALL="all",t.ACTIVE="active",t.COMPLETED="completed"}(c||(c={})),function(t){t.DELETE="Delete",t.EDIT="Edit",t.CLRCOMPLETED="Clear completed"}(s||(s={}));var f=r(0),m=r.n(f),O=r(1),v=r(26),g=r(55),x=r(27),T=(Object(g.a)({apiKey:"AIzaSyDGmhjDViXDcauYtXU6H7BJkmGekgJCfcg",authDomain:"todo-list-app-bb89a.firebaseapp.com",projectId:"todo-list-app-bb89a",storageBucket:"todo-list-app-bb89a.appspot.com",messagingSenderId:"958201388501",appId:"1:958201388501:web:a3538848f5df0a77bcb15c"}),Object(x.c)()),C=Object(j.c)();Object(j.d)(C,j.a);var _=function(){var t=Object(O.a)(m.a.mark((function t(e){var r,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isSignedForm){t.next=6;break}return t.next=3,Object(j.b)(C,e.userEmail,e.password);case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,Object(j.e)(C,e.userEmail,e.password);case 8:t.t0=t.sent;case 9:return r=t.t0,o=r.user,e.isSignedForm&&w({userId:o.uid,sortOrder:c.ALL}),t.abrupt("return",{uid:o.uid});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(O.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.d)(Object(x.a)(T,"users",e.userId,"todos","todoList"),{todoList:e.todoList});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=Object(O.a)(m.a.mark((function t(e){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.b)(Object(x.a)(T,"users",e,"todos","todoList"));case 2:return r=t.sent,t.abrupt("return",r.data());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(O.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.d)(Object(x.a)(T,"users",e.userId,"todos","todosSortOrder"),{todosSortOrder:e.sortOrder});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=Object(O.a)(m.a.mark((function t(e){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.b)(Object(x.a)(T,"users",e,"todos","todosSortOrder"));case 2:return r=t.sent,t.abrupt("return",r.data());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I={userId:localStorage.getItem(n.USERAUTHTOKEN)||"",isAuthing:!1,authErrMsg:""},S=Object(v.b)("user/userAuthThunk",function(){var t=Object(O.a)(m.a.mark((function t(e,r){var o,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.rejectWithValue,t.prev=1,t.next=4,_(e);case 4:return n=t.sent,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",o(t.t0.code));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()),M=Object(v.c)({name:"user",initialState:I,reducers:{setUserId:function(t,e){t.userId=e.payload.userId},setAuthErrMsg:function(t,e){t.authErrMsg=e.payload.authErrMsg}},extraReducers:function(t){t.addCase(S.pending,(function(t){t.isAuthing=!0,t.authErrMsg&&(t.authErrMsg="")})),t.addCase(S.fulfilled,(function(t,e){var r=e.payload;t.userId=r.uid,localStorage.setItem(n.USERAUTHTOKEN,r.uid),t.isAuthing=!1,t.authErrMsg&&(t.authErrMsg="")})),t.addCase(S.rejected,(function(t,e){t.userId="",t.isAuthing=!1,t.authErrMsg="Error: ".concat(e.payload)}))}}),N=M.actions,k=N.setUserId,y=N.setAuthErrMsg,D=M.reducer,B=r(32),F={todoList:[],updateDb:!1,isLoading:!1,isError:!1,todosErrMsg:"",sortOrder:c.ALL},W=Object(v.b)("todos/saveTodosToDbThunk",function(){var t=Object(O.a)(m.a.mark((function t(e,r){var o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.rejectWithValue,t.prev=1,t.next=4,E(e);case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",o(t.t0.code));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,r){return t.apply(this,arguments)}}()),P=Object(v.b)("todos/getTodosFromDbThunk",function(){var t=Object(O.a)(m.a.mark((function t(e,r){var o,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.rejectWithValue,t.prev=1,t.next=4,L(e);case 4:return n=t.sent,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",o(t.t0.code));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()),H=Object(v.b)("todos/setTodosSortOrderToDbThunk",function(){var t=Object(O.a)(m.a.mark((function t(e,r){var o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.rejectWithValue,t.prev=1,t.next=4,w(e);case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",o(t.t0.code));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,r){return t.apply(this,arguments)}}()),R=Object(v.b)("todos/getTodosSortOrderDbThunk",function(){var t=Object(O.a)(m.a.mark((function t(e,r){var o,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.rejectWithValue,t.prev=1,t.next=4,A(e);case 4:return n=t.sent,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",o(t.t0.code));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()),U=Object(v.c)({name:"todos",initialState:F,reducers:{addTodo:function(t,e){t.todoList.push(e.payload),t.updateDb=!0},toggleTodoComplete:function(t,e){t.todoList=t.todoList.map((function(t){return t.id===e.payload.todoId?Object(B.a)(Object(B.a)({},t),{},{isCompleted:!t.isCompleted}):t})),t.updateDb=!0},editTodo:function(t,e){t.todoList=t.todoList.map((function(t){return t.id===e.payload.todoId?Object(B.a)(Object(B.a)({},t),{},{title:e.payload.todoTitle}):t})),t.updateDb=!0},deleteTodo:function(t,e){t.todoList=t.todoList.filter((function(t){return t.id!==e.payload.todoId})),t.updateDb=!0},deleteCompletedTodo:function(t){t.todoList=t.todoList.filter((function(t){return!1===t.isCompleted})),t.updateDb=!0},updateTodoList:function(t,e){t.todoList=e.payload},setTodosSortOrder:function(t,e){t.sortOrder=e.payload.sortOrder},setTodosErrMsg:function(t,e){t.todosErrMsg=e.payload.todosErrMsg},uploadTodoListToDb:function(t){t.updateDb=!0}},extraReducers:function(t){t.addCase(W.pending,(function(t){t.isLoading=!0,t.isError&&(t.isError=!1,t.todosErrMsg="")})),t.addCase(W.fulfilled,(function(t){t.isLoading=!1,t.updateDb&&(t.updateDb=!1)})),t.addCase(W.rejected,(function(t,e){t.isLoading=!1,t.isError=!0,t.todosErrMsg="Error uploading Todos to cloud store: ".concat(e.payload),t.updateDb&&(t.updateDb=!1)})),t.addCase(P.pending,(function(t){t.isLoading=!0,t.isError&&(t.isError=!1,t.todosErrMsg="")})),t.addCase(P.fulfilled,(function(t,e){var r=e.payload;t.todoList=r?r.todoList:[],t.isLoading=!1})),t.addCase(P.rejected,(function(t,e){t.isLoading=!1,t.isError=!0,t.todosErrMsg="Error loading Todos from cloud store: ".concat(e.payload)})),t.addCase(R.pending,(function(t){t.isError&&(t.isError=!1,t.todosErrMsg="")})),t.addCase(R.fulfilled,(function(t,e){var r=e.payload;t.sortOrder!==r.todosSortOrder&&(t.sortOrder=r.todosSortOrder)})),t.addCase(R.rejected,(function(t,e){t.isError=!0,t.todosErrMsg="Error loading sort order from cloud store: ".concat(e.payload)})),t.addCase(H.pending,(function(t){t.isError&&(t.isError=!1,t.todosErrMsg="")})),t.addCase(H.fulfilled,(function(t){})),t.addCase(H.rejected,(function(t,e){t.isError=!0,t.todosErrMsg="Error uploading sort order to cloud store: ".concat(e.payload)}))}}),z=U.actions,V=z.addTodo,K=z.deleteTodo,Y=z.deleteCompletedTodo,G=z.editTodo,X=z.toggleTodoComplete,J=z.updateTodoList,q=z.uploadTodoListToDb,Z=z.setTodosSortOrder,Q=z.setTodosErrMsg,$=U.reducer,tt=function(){return Object(p.b)()},et=p.c,rt=r(13),ot=r(56),nt=r.n(ot),at=r(5),ct=function(){var t=Object(i.useState)(!1),e=Object(b.a)(t,2),r=e[0],o=e[1],n=Object(i.useState)(""),a=Object(b.a)(n,2),c=a[0],s=a[1],d=Object(i.useState)(""),l=Object(b.a)(d,2),u=l[0],p=l[1],h=et((function(t){return t.user})).isAuthing,j=tt();return Object(at.jsx)("div",{className:nt.a.wrapper,children:Object(at.jsx)(Ct,{onSubmit:function(t){t.preventDefault(),j(S({userEmail:c,password:u,isSignedForm:r}))},onSwitchChange:function(){return o(!r)},onLoginChange:function(t){return s(t)},onPasswordChange:function(t){return p(t)},userLogin:c,userPassword:u,isSignedForm:r,isAuthing:h})})},st=r(79),it=function(){return new RegExp("Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini","i").test(navigator.userAgent)},dt=r(28),lt=r.n(dt),ut=function(){var t=Object(i.useState)(""),e=Object(b.a)(t,2),r=e[0],o=e[1],n=Object(i.useState)(!1),a=Object(b.a)(n,2),c=a[0],d=a[1],l=Object(i.useState)(""),u=Object(b.a)(l,2),p=u[0],h=u[1],j=Object(i.useState)(""),f=Object(b.a)(j,2),m=f[0],O=f[1],v=Object(i.useState)(""),g=Object(b.a)(v,2),x=g[0],T=g[1],C=Object(i.useState)(!(window.innerWidth>375)),_=Object(b.a)(C,2),E=_[0],L=_[1],w=et((function(t){return t.user})).userId,A=et((function(t){return t.todos})),I=A.todoList,S=A.isLoading,M=A.isError,N=A.updateDb,k=A.sortOrder,y=tt(),D=it(),B=function(){d(!0),document.body.style.overflow="hidden"},F=function(){d(!1),document.body.style.overflow="scroll"};return Object(i.useEffect)((function(){var t=function(){window.innerWidth>768?L(!1):L(!0)};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),Object(at.jsxs)("div",{className:lt.a.wrapper,children:[Object(at.jsx)(Lt,{onSubmit:function(t){t.preventDefault(),I.find((function(t){return t.title.toLowerCase()===r.trim().toLowerCase()&&!t.isCompleted}))?y(Q({todosErrMsg:"Todo with same title is already exist!"})):(y(V({id:Object(st.a)(),title:r.trim(),isCompleted:!1})),M||o(""))},onTitleChange:function(t){return o(t)},todoTitle:r}),S&&!N?Object(at.jsx)("div",{className:lt.a.loaderWrapper,children:Object(at.jsx)(Rt,{})}):I.length?Object(at.jsx)(It,{todos:I,todosSortOrder:k,isSortControlsExternal:E,isTouchDevice:D,isDraggable:!0,toggleCheckBoxHandler:function(t){y(X({todoId:t}))},deleteBtnHandler:function(t,e){h(s.DELETE),O(e),T(t),B()},sortBtnHandler:function(t){y(Z({sortOrder:t})),y(H({userId:w,sortOrder:t}))},clrCompletedBtnHandler:function(){h(s.CLRCOMPLETED),B()},editTodoHandler:function(t,e){h(s.EDIT),O(e),T(t),B()},dragEnterEvent:function(t){y(J(t))},dragEndEvent:function(){y(q())}}):M?Object(at.jsx)("h3",{className:lt.a.infoTitle,children:"Error loading Todos from cloud store!"}):Object(at.jsx)("h3",{className:lt.a.infoTitle,children:"You have no Todos yet, add it..."}),Object(at.jsx)(Wt,{isModalActive:c,closeModalHandler:F,modalTitle:"".concat(p," ").concat(p===s.CLRCOMPLETED?"Todos":"Todo"),children:Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)("div",{className:lt.a.modalTodoContent,children:p===s.EDIT?Object(at.jsxs)("label",{className:lt.a.modalInputLabel,children:["Todo title:",Object(at.jsx)("input",{className:lt.a.modalInput,type:"text",value:m,onChange:function(t){return O(t.target.value)},placeholder:"Enter a new Todo title..."})]}):p===s.DELETE?'Delete Todo: "'.concat(m,'" from Todos list ?'):"Delete all completed Todos from Todos list ?"}),Object(at.jsxs)("div",{className:lt.a.modalBtnWrapper,children:[Object(at.jsx)("button",{className:lt.a.btn,disabled:!m&&p!==s.CLRCOMPLETED,onClick:function(t){return function(t){if(t.currentTarget.blur(),p===s.DELETE&&(y(K({todoId:x})),O(""),T("")),p===s.CLRCOMPLETED&&y(Y()),p===s.EDIT){if(I.find((function(t){return t.title.toLowerCase()===m.trim().toLowerCase()&&!t.isCompleted})))return void y(Q({todosErrMsg:"Todo with same title is already exist!"}));y(G({todoId:x,todoTitle:m.trim()})),O(""),T("")}h(""),F()}(t)},children:p===s.EDIT?"Save":"Delete"}),Object(at.jsx)("button",{className:lt.a.btn,onClick:function(t){return function(t){t.currentTarget.blur(),h(""),O(""),T(""),F()}(t)},children:"Cancel"})]})]})})]})},pt=[{path:o.LOGIN,exact:!0,component:ct}],ht=[{path:o.TODOLIST,exact:!0,component:ut}],bt=function(){var t=et((function(t){return t.user})).userId,e=Object(i.useState)(pt),r=Object(b.a)(e,2),n=r[0],a=r[1];return Object(i.useEffect)((function(){a(t?ht:pt)}),[t]),Object(at.jsxs)(rt.d,{children:[n.map((function(t){return Object(at.jsx)(rt.b,{path:t.path,exact:t.exact,component:t.component},t.path)})),Object(at.jsx)(rt.a,{to:t?o.TODOLIST:o.LOGIN})]})},jt=r(58),ft=r.n(jt),mt=function(t){var e=t.themeType,r=void 0===e?a.LIGHT:e,o=t.onClickHandler;return Object(at.jsx)("div",{className:ft.a.wrapper,onClick:o,children:r===a.LIGHT?Object(at.jsx)(zt,{}):Object(at.jsx)(Ut,{})})},Ot=r(45),vt=r.n(Ot),gt=function(t){var e=t.isChecked,r=void 0!==e&&e,o=t.isTouchDevice,n=t.toggleCheckBoxHandler;return Object(at.jsxs)("div",{className:vt.a.checkBoxWrapper,children:[Object(at.jsx)("input",{className:vt.a.checkBox,"data-is-touch-device":o,id:"customCheckbox",type:"checkbox",checked:r,readOnly:!0}),Object(at.jsx)("label",{htmlFor:"customCheckbox",onClick:n,children:r&&Object(at.jsx)("div",{className:vt.a.checkIconWrapper,children:Object(at.jsx)(Kt,{})})})]})},xt=r(22),Tt=r.n(xt),Ct=function(t){var e=t.onSubmit,r=t.onSwitchChange,o=t.onLoginChange,n=t.onPasswordChange,a=t.userLogin,c=void 0===a?"":a,s=t.userPassword,d=void 0===s?"":s,l=t.isSignedForm,u=void 0!==l&&l,p=t.isAuthing,h=void 0!==p&&p,j=Object(i.useState)(!0),f=Object(b.a)(j,2),m=f[0],O=f[1],v=Object(i.useState)("password"),g=Object(b.a)(v,2),x=g[0],T=g[1],C=Object(i.useRef)(null),_=it();return Object(i.useEffect)((function(){c&&d?O(!1):m||O(!0)}),[m,c,d]),Object(at.jsxs)("form",{className:Tt.a.authForm,onSubmit:function(t){return e(t)},children:[Object(at.jsx)("h3",{className:Tt.a.title,children:u?"Sign In Form":"Log In Form"}),Object(at.jsxs)("label",{className:Tt.a.loginLabel,children:["Login (e-mail): *",Object(at.jsx)("input",{className:Tt.a.loginInput,type:"text",value:c,onChange:function(t){return o(t.target.value)},placeholder:"Enter your login..."})]}),Object(at.jsx)("label",{className:Tt.a.passwordLabel,htmlFor:"passwordInput",children:"Password (at least 6 chars): *"}),Object(at.jsxs)("div",{className:Tt.a.passwordInputWrapper,children:["password"===x?Object(at.jsx)("div",{className:Tt.a.icon,onClick:function(){var t;T("text"),null===(t=C.current)||void 0===t||t.focus()},children:Object(at.jsx)(Gt,{})}):Object(at.jsx)("div",{className:Tt.a.icon,onClick:function(){var t;T("password"),null===(t=C.current)||void 0===t||t.focus()},children:Object(at.jsx)(Yt,{})}),Object(at.jsx)("input",{className:Tt.a.passwordInput,type:x,id:"passwordInput",ref:C,value:d,onChange:function(t){return n(t.target.value)},placeholder:"Enter your password..."})]}),Object(at.jsx)("span",{className:Tt.a.text,children:"* required fields"}),Object(at.jsxs)("div",{className:Tt.a.switcherWrapper,children:[Object(at.jsx)(gt,{isChecked:u,isTouchDevice:_,toggleCheckBoxHandler:r}),Object(at.jsx)("div",{className:Tt.a.switcherLabel,children:"Register and Sign In"})]}),Object(at.jsx)("button",{className:Tt.a.btn,disabled:m,onClick:function(t){return t.currentTarget.blur()},children:h?"Authing...":u?"Sign In":"Log In"})]})},_t=r(46),Et=r.n(_t),Lt=function(t){var e=t.onSubmit,r=t.onTitleChange,o=t.todoTitle,n=void 0===o?"":o;return Object(at.jsxs)("form",{className:Et.a.addTodoForm,onSubmit:function(t){return e(t)},children:[Object(at.jsx)("button",{className:Et.a.addTodoFormBtn,disabled:!n,onClick:function(t){return t.currentTarget.blur()}}),Object(at.jsx)("input",{className:Et.a.todoTitleInput,type:"text",value:n,onChange:function(t){return r(t.target.value)},placeholder:"Create a new todo..."})]})},wt=r(15),At=r.n(wt),It=function(t){var e=t.todos,r=t.todosSortOrder,o=t.isSortControlsExternal,n=t.isTouchDevice,a=t.isDraggable,s=void 0!==a&&a,d=t.toggleCheckBoxHandler,l=t.deleteBtnHandler,u=t.sortBtnHandler,p=t.clrCompletedBtnHandler,h=t.editTodoHandler,j=t.dragEnterEvent,f=void 0===j?function(){}:j,m=t.dragEndEvent,O=void 0===m?function(){}:m,v=Object(i.useState)(!1),g=Object(b.a)(v,2),x=g[0],T=g[1],C=Object(i.useRef)(null),_=Object(i.useRef)(null),E=Object(i.useRef)(null),L=Object(i.useRef)(null),w=Object(i.useRef)(null),A=Object(i.useRef)({xOffset:0,yOffset:0}),I=Object(i.useRef)({touchStartEvtTime:0,isFirstTouchMoveEvt:!0,touchMoveFirstEvtTime:0,touchMoveStartDelay:0}),S=e.filter((function(t){return!1===t.isCompleted})).length;Object(i.useEffect)((function(){n&&(document.body.style.overflow=x?"hidden":"scroll")}),[x,n]);var M=function t(){var e;T(!1),_.current=null,null===(e=E.current)||void 0===e||e.removeEventListener("dragend",t),E.current=null,O()};return Object(at.jsxs)("div",{className:At.a.wrapper,children:[Object(at.jsxs)("div",{className:At.a.listWrapper,children:[Object(at.jsx)("ul",{className:At.a.list,ref:C,children:e.map((function(t,o){return r===c.ALL||r===c.ACTIVE&&!t.isCompleted||r===c.COMPLETED&&t.isCompleted?Object(at.jsxs)("li",{className:At.a.listItem,"data-is-completed":t.isCompleted,"data-is-dragging":!!x&&_.current===o,"data-order-number":o,draggable:s,onDragStart:s&&!n?function(t){return function(t,e){E.current=t.currentTarget,E.current.addEventListener("dragend",M),_.current=e,setTimeout((function(){T(!0)}),0)}(t,o)}:void 0,onDragEnter:s&&!n&&x?function(t){return function(t,r){if(E.current!==t.target){var o=JSON.parse(JSON.stringify(e));o.splice(r,0,o.splice(_.current,1)[0]),_.current=r,f(o)}}(t,o)}:void 0,onTouchStart:s&&n?function(t){return function(t,e){var r;I.current.touchStartEvtTime=t.timeStamp,E.current=t.currentTarget,_.current=e,w.current=E.current.getBoundingClientRect(),A.current.xOffset=t.changedTouches[0].clientX-w.current.left,A.current.yOffset=t.changedTouches[0].clientY-w.current.top,L.current=E.current.cloneNode(!0),L.current.setAttribute("data-is-drag-clone","true"),L.current.style.width="".concat(null===(r=w.current)||void 0===r?void 0:r.width,"px")}(t,o)}:void 0,onTouchMove:s&&n?function(t){return function(t){I.current.isFirstTouchMoveEvt&&(I.current.isFirstTouchMoveEvt=!1,I.current.touchMoveFirstEvtTime=t.timeStamp,I.current.touchMoveStartDelay=I.current.touchMoveFirstEvtTime-I.current.touchStartEvtTime),I.current.touchMoveStartDelay<150||C.current&&L.current&&(T(!0),A.current.xOffset&&A.current.yOffset?(L.current.style.left="".concat(t.changedTouches[0].clientX-A.current.xOffset,"px"),L.current.style.top="".concat(t.changedTouches[0].clientY-A.current.yOffset,"px")):w.current?(L.current.style.left="".concat(t.changedTouches[0].clientX-w.current.width/2,"px"),L.current.style.top="".concat(t.changedTouches[0].clientY-w.current.height/2,"px")):(L.current.style.left="".concat(t.changedTouches[0].clientX,"px"),L.current.style.top="".concat(t.changedTouches[0].clientY,"px")),L.current.setAttribute("data-is-dragging","true"),C.current.appendChild(L.current),C.current.querySelectorAll("li[data-is-dragging=false]").forEach((function(t){if(L.current&&L.current.getAttribute("data-order-number")!==t.getAttribute("data-order-number")&&L.current.getBoundingClientRect().top+L.current.getBoundingClientRect().height/2<t.getBoundingClientRect().bottom&&L.current.getBoundingClientRect().bottom-L.current.getBoundingClientRect().height/2>t.getBoundingClientRect().top){var r=Number(t.getAttribute("data-order-number")),o=JSON.parse(JSON.stringify(e));o.splice(r,0,o.splice(_.current,1)[0]),_.current=r,L.current.setAttribute("data-order-number","".concat(r)),f(o)}})))}(t)}:void 0,onTouchEnd:s&&n?function(t){return x&&(C.current&&L.current&&C.current.removeChild(L.current),O(),T(!1)),E.current=null,L.current=null,_.current=null,w.current=null,A.current={xOffset:0,yOffset:0},void(I.current={touchStartEvtTime:0,isFirstTouchMoveEvt:!0,touchMoveFirstEvtTime:0,touchMoveStartDelay:0})}:void 0,children:[Object(at.jsx)(gt,{isChecked:t.isCompleted,isTouchDevice:n,toggleCheckBoxHandler:function(){return d(t.id)}}),Object(at.jsx)("span",{className:At.a.listItemTitle,onClick:function(){return h(t.id,t.title)},children:t.title}),Object(at.jsx)("div",{className:At.a.listItemIconWrapper,"data-is-touch-device":n,onClick:function(){return l(t.id,t.title)},children:Object(at.jsx)(Vt,{})})]},t.id):null}))}),Object(at.jsxs)("div",{className:At.a.listControlsWrapper,children:[Object(at.jsx)("div",{className:At.a.listControlsCounter,children:"".concat(S," ").concat(S>1?"items left":"item left")}),o?null:Object(at.jsxs)("div",{className:At.a.listControlsSortBtnWrapper,"data-is-external":o,onClick:function(t){return u(t.target.id)},children:[Object(at.jsx)("button",{className:At.a.listControlsSortBtn,id:c.ALL,"data-is-active":r===c.ALL,disabled:r===c.ALL,children:c.ALL}),Object(at.jsx)("button",{className:At.a.listControlsSortBtn,id:c.ACTIVE,"data-is-active":r===c.ACTIVE,disabled:r===c.ACTIVE,children:c.ACTIVE}),Object(at.jsx)("button",{className:At.a.listControlsSortBtn,id:c.COMPLETED,"data-is-active":r===c.COMPLETED,disabled:r===c.COMPLETED,children:c.COMPLETED})]}),Object(at.jsx)("button",{className:At.a.listControlsClrCompletedBtn,onClick:p,children:"Clear completed"})]})]}),o?Object(at.jsxs)("div",{className:At.a.listControlsSortBtnWrapper,"data-is-external":o,onClick:function(t){return u(t.target.id)},children:[Object(at.jsx)("button",{className:At.a.listControlsSortBtn,id:c.ALL,"data-is-active":r===c.ALL,disabled:r===c.ALL,children:c.ALL}),Object(at.jsx)("button",{className:At.a.listControlsSortBtn,id:c.ACTIVE,"data-is-active":r===c.ACTIVE,disabled:r===c.ACTIVE,children:c.ACTIVE}),Object(at.jsx)("button",{className:At.a.listControlsSortBtn,id:c.COMPLETED,"data-is-active":r===c.COMPLETED,disabled:r===c.COMPLETED,children:c.COMPLETED})]}):null,Object(at.jsx)("div",{className:At.a.listFooter,children:Object(at.jsx)("span",{className:At.a.listFooterText,children:n?"Long tap on Todo to drag and drop it and reorder list":"Drag and drop to reorder list"})})]})},St=r(52),Mt=r.n(St),Nt=function(t){var e=t.message,r=t.clearMsg,o=t.duration,n=void 0===o?6e3:o,a=Object(i.useState)(!1),c=Object(b.a)(a,2),s=c[0],d=c[1];return Object(i.useEffect)((function(){e&&(d(!0),setTimeout((function(){d(!1),r()}),n))}),[e,r,n]),Object(at.jsx)("div",{className:Mt.a.snackBarWrapper,"data-is-open":s,children:Object(at.jsx)("p",{className:Mt.a.snackBarText,children:e})})},kt=r(30),yt=r.n(kt),Dt=function(t){var e=t.user,r=t.logOut,o=Object(i.useState)(!1),n=Object(b.a)(o,2),a=n[0],c=n[1],s=function(){c(!a)};return Object(at.jsxs)("div",{className:yt.a.wrapper,children:[Object(at.jsx)("div",{className:yt.a.userAvatar,onClick:s,children:e.charAt(0).toUpperCase()}),Object(at.jsxs)("div",{className:yt.a.userAvatarTooltip,"data-is-active":"".concat(a),children:[Object(at.jsxs)("div",{className:yt.a.tooltipHeader,children:[Object(at.jsx)("span",{className:yt.a.tooltipTitle,children:"User info"}),Object(at.jsx)("div",{className:yt.a.tooltipIconWrapper,onClick:s,children:Object(at.jsx)(Vt,{})})]}),Object(at.jsxs)("p",{className:yt.a.tooltipText,children:["User: ",e]}),Object(at.jsx)("button",{className:yt.a.tooltipBtn,onClick:function(){r(),c(!a)},children:"Log Out"})]})]})},Bt=r(33),Ft=r.n(Bt),Wt=function(t){var e=t.isModalActive,r=void 0!==e&&e,o=t.modalTitle,n=void 0===o?"Modal window":o,a=t.closeModalHandler,c=t.children,s=void 0===c?null:c;return r?Object(at.jsxs)("div",{className:Ft.a.modalWrapper,children:[Object(at.jsxs)("div",{className:Ft.a.modal,children:[Object(at.jsxs)("div",{className:Ft.a.modalHeader,children:[Object(at.jsx)("h3",{className:Ft.a.modalTitle,children:n}),Object(at.jsx)("button",{className:Ft.a.btnClose,onClick:a,children:Object(at.jsx)(Vt,{})})]}),Object(at.jsx)("div",{className:Ft.a.modalContent,children:s})]}),Object(at.jsx)("div",{className:Ft.a.modalLayout,onClick:a})]}):null},Pt=r(59),Ht=r.n(Pt),Rt=function(){return Object(at.jsxs)("div",{className:Ht.a.loader,children:[Object(at.jsx)("div",{}),Object(at.jsx)("div",{}),Object(at.jsx)("div",{}),Object(at.jsx)("div",{})]})},Ut=function(t){var e=t.width,r=void 0===e?26:e,o=t.height,n=void 0===o?26:o,a=t.color,c=void 0===a?"#FFF":a;return Object(at.jsx)(at.Fragment,{children:Object(at.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,children:Object(at.jsx)("path",{fill:c,fillRule:"evenodd",d:"M13 0c.81 0 1.603.074 2.373.216C10.593 1.199 7 5.43 7 10.5 7 16.299 11.701 21 17.5 21c2.996 0 5.7-1.255 7.613-3.268C23.22 22.572 18.51 26 13 26 5.82 26 0 20.18 0 13S5.82 0 13 0z"})})})},zt=function(t){var e=t.width,r=void 0===e?26:e,o=t.height,n=void 0===o?26:o,a=t.color,c=void 0===a?"#FFF":a;return Object(at.jsx)(at.Fragment,{children:Object(at.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,children:Object(at.jsx)("path",{fill:c,fillRule:"evenodd",d:"M13 21a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-5.657-2.343a1 1 0 010 1.414l-2.121 2.121a1 1 0 01-1.414-1.414l2.12-2.121a1 1 0 011.415 0zm12.728 0l2.121 2.121a1 1 0 01-1.414 1.414l-2.121-2.12a1 1 0 011.414-1.415zM13 8a5 5 0 110 10 5 5 0 010-10zm12 4a1 1 0 110 2h-3a1 1 0 110-2h3zM4 12a1 1 0 110 2H1a1 1 0 110-2h3zm18.192-8.192a1 1 0 010 1.414l-2.12 2.121a1 1 0 01-1.415-1.414l2.121-2.121a1 1 0 011.414 0zm-16.97 0l2.121 2.12A1 1 0 015.93 7.344L3.808 5.222a1 1 0 011.414-1.414zM13 0a1 1 0 011 1v3a1 1 0 11-2 0V1a1 1 0 011-1z"})})})},Vt=function(t){var e=t.width,r=void 0===e?18:e,o=t.height,n=void 0===o?18:o,a=t.color,c=void 0===a?"currentColor":a;return Object(at.jsx)(at.Fragment,{children:Object(at.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,children:Object(at.jsx)("path",{fill:c,fillRule:"evenodd",d:"M16.97 0l.708.707L9.546 8.84l8.132 8.132-.707.707-8.132-8.132-8.132 8.132L0 16.97l8.132-8.132L0 .707.707 0 8.84 8.132 16.971 0z"})})})},Kt=function(t){var e=t.width,r=void 0===e?11:e,o=t.height,n=void 0===o?9:o,a=t.strokeWidth,c=void 0===a?2:a,s=t.color,i=void 0===s?"none":s;return Object(at.jsx)(at.Fragment,{children:Object(at.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,children:Object(at.jsx)("path",{fill:i,stroke:"#FFF",strokeWidth:c,d:"M1 4.304L3.696 7l6-6"})})})},Yt=function(t){var e=t.width,r=void 0===e?26:e,o=t.height,n=void 0===o?26:o,a=t.color,c=void 0===a?"currentColor":a;return Object(at.jsx)(at.Fragment,{children:Object(at.jsx)("svg",{width:r,height:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:Object(at.jsx)("path",{fill:c,d:"M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"})})})},Gt=function(t){var e=t.width,r=void 0===e?26:e,o=t.height,n=void 0===o?26:o,a=t.color,c=void 0===a?"currentColor":a;return Object(at.jsx)(at.Fragment,{children:Object(at.jsx)("svg",{width:r,height:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",children:Object(at.jsx)("path",{fill:c,d:"M634 471L36 3.51A16 16 0 0 0 13.51 6l-10 12.49A16 16 0 0 0 6 41l598 467.49a16 16 0 0 0 22.49-2.49l10-12.49A16 16 0 0 0 634 471zM296.79 146.47l134.79 105.38C429.36 191.91 380.48 144 320 144a112.26 112.26 0 0 0-23.21 2.47zm46.42 219.07L208.42 260.16C210.65 320.09 259.53 368 320 368a113 113 0 0 0 23.21-2.46zM320 112c98.65 0 189.09 55 237.93 144a285.53 285.53 0 0 1-44 60.2l37.74 29.5a333.7 333.7 0 0 0 52.9-75.11 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64c-36.7 0-71.71 7-104.63 18.81l46.41 36.29c18.94-4.3 38.34-7.1 58.22-7.1zm0 288c-98.65 0-189.08-55-237.93-144a285.47 285.47 0 0 1 44.05-60.19l-37.74-29.5a333.6 333.6 0 0 0-52.89 75.1 32.35 32.35 0 0 0 0 29.19C89.72 376.41 197.08 448 320 448c36.7 0 71.71-7.05 104.63-18.81l-46.41-36.28C359.28 397.2 339.89 400 320 400z"})})})},Xt=r(37),Jt=r.n(Xt);var qt=function(){var t=Object(i.useState)(localStorage.getItem(n.THEMETYPE)||a.LIGHT),e=Object(b.a)(t,2),r=e[0],o=e[1],c=Object(i.useState)(""),s=Object(b.a)(c,2),d=s[0],l=s[1],u=et((function(t){return t.user})),p=u.userId,h=u.authErrMsg,f=et((function(t){return t.todos})),m=f.todoList,O=f.updateDb,v=f.todosErrMsg,g=tt();return Object(i.useEffect)((function(){localStorage.getItem(n.THEMETYPE)!==r&&localStorage.setItem(n.THEMETYPE,r)}),[r]),Object(i.useEffect)((function(){var t=C.onAuthStateChanged((function(t){t?l(t.email):(localStorage.removeItem(n.USERAUTHTOKEN),g(k({userId:""})))}));return function(){return t()}}),[]),Object(i.useEffect)((function(){p&&(g(P(p)),g(R(p)))}),[p,g]),Object(i.useEffect)((function(){O&&g(W({todoList:m,userId:p}))}),[O,m,p,g]),Object(at.jsx)("div",{className:Jt.a.App,"data-theme-type":r,children:Object(at.jsxs)("div",{className:Jt.a.appContainer,children:[Object(at.jsx)(Nt,{message:h||(v||""),clearMsg:function(){h&&g(y({authErrMsg:""})),v&&g(Q({todosErrMsg:""}))},duration:8e3}),Object(at.jsxs)("header",{className:Jt.a.header,children:[Object(at.jsx)("h1",{className:Jt.a.headerTitle,children:"todo"}),Object(at.jsxs)("div",{className:Jt.a.controlsWrapper,children:[Object(at.jsx)(mt,{themeType:r,onClickHandler:function(){o(r===a.LIGHT?a.DARK:a.LIGHT)}}),p&&Object(at.jsx)(Dt,{user:d||"User",logOut:function(){return Object(j.f)(Object(j.c)())}})]})]}),Object(at.jsx)(bt,{})]})})},Zt=Object(v.a)({reducer:{user:D,todos:$}});r(76);u.a.render(Object(at.jsx)(d.a.StrictMode,{children:Object(at.jsx)(p.a,{store:Zt,children:Object(at.jsx)(h.a,{children:Object(at.jsx)(qt,{})})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.0759f8fe.chunk.js.map