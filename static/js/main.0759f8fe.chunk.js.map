{"version":3,"sources":["components/TodoList/TodoList.module.css","components/AuthForm/AuthForm.module.css","pages/TodoListPage/TodoListPage.module.css","components/UserAvatar/UserAvatar.module.css","components/Modal/Modal.module.css","App.module.css","components/CustomCheckbox/CustomCheckbox.module.css","components/AddTodoForm/AddTodoForm.module.css","components/SnackBar/SnackBar.module.css","pages/AuthPage/AuthPage.module.css","components/ThemeSwitcher/ThemeSwitcher.module.css","components/Loader/Loader.module.css","types/types.ts","api/firebase.ts","store/userSlice.ts","store/todosSlice.ts","hooks/redux.ts","pages/AuthPage/AuthPage.tsx","components/utils/index.ts","pages/TodoListPage/TodoListPage.tsx","components/router/index.ts","components/AppRouter/AppRouter.tsx","components/ThemeSwitcher/ThemeSwitcher.tsx","components/CustomCheckbox/CustomCheckbox.tsx","components/AuthForm/AuthForm.tsx","components/AddTodoForm/AddTodoForm.tsx","components/TodoList/TodoList.tsx","components/SnackBar/SnackBar.tsx","components/UserAvatar/UserAvatar.tsx","components/Modal/Modal.tsx","components/Loader/Loader.tsx","components/Icons/MoonIcon.tsx","components/Icons/SunIcon.tsx","components/Icons/CrossIcon.tsx","components/Icons/CheckIcon.tsx","components/Icons/EyeIcon.tsx","components/Icons/EyeSlashIcon.tsx","App.tsx","store/index.ts","index.tsx"],"names":["module","exports","RouteNames","LocalStorageKeys","ThemeTypes","TodosSortOrder","ActionsWithTodos","dataBase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","getFirestore","auth","getAuth","setPersistence","browserLocalPersistence","userAuth","data","a","isSignedForm","createUserWithEmailAndPassword","userEmail","password","signInWithEmailAndPassword","user","setTodosSortOrderToDb","userId","uid","sortOrder","ALL","saveTodosToDb","todos","setDoc","doc","todoList","getTodosFromDb","getDoc","todosSortOrder","getTodosSortOrderFromDb","initialState","localStorage","getItem","USERAUTHTOKEN","isAuthing","authErrMsg","userAuthThunk","createAsyncThunk","rejectWithValue","response","code","userSlice","createSlice","name","reducers","setUserId","state","action","payload","setAuthErrMsg","extraReducers","builder","addCase","pending","fulfilled","setItem","rejected","actions","updateDb","isLoading","isError","todosErrMsg","saveTodosToDbThunk","getTodosFromDbThunk","setTodosSortOrderToDbThunk","getTodosSortOrderDbThunk","todosSlice","addTodo","push","toggleTodoComplete","map","todo","id","todoId","isCompleted","editTodo","title","todoTitle","deleteTodo","filter","deleteCompletedTodo","updateTodoList","setTodosSortOrder","setTodosErrMsg","uploadTodoListToDb","todosFromDb","useAppDispatch","useDispatch","useAppSelector","useSelector","AuthPage","useState","setIsSignedForm","userLogin","setUserLogin","userPassword","setUserPassword","reduxDispatch","className","styles","wrapper","onSubmit","e","preventDefault","onSwitchChange","onLoginChange","value","onPasswordChange","detectTouchDevice","RegExp","test","navigator","userAgent","TodoListPage","setTodoTitle","isModalActive","setIsModalActive","actionTodoType","setActionTodoType","actionTodoTitle","setActionTodoTitle","actionTodoId","setActionTodoId","window","innerWidth","isSortControlsExternal","setIsSortControlsExternal","isTouchDevice","openModalHandler","document","body","style","overflow","closeModalHandler","useEffect","screenResizeHandler","addEventListener","removeEventListener","find","toLowerCase","trim","uuidv4","onTitleChange","loaderWrapper","length","isDraggable","toggleCheckBoxHandler","deleteBtnHandler","DELETE","sortBtnHandler","clrCompletedBtnHandler","CLRCOMPLETED","editTodoHandler","EDIT","dragEnterEvent","dragEndEvent","infoTitle","modalTitle","modalTodoContent","modalInputLabel","modalInput","type","onChange","target","placeholder","modalBtnWrapper","btn","disabled","onClick","currentTarget","blur","acceptBtnHandler","rejectBtnHandler","publicRoutes","path","LOGIN","exact","component","privateRoutes","TODOLIST","AppRouter","currentRoutes","setCurrentRoutes","route","to","ThemeSwitcher","themeType","LIGHT","onClickHandler","CustomCheckbox","isChecked","checkBoxWrapper","checkBox","checked","readOnly","htmlFor","checkIconWrapper","AuthForm","isBtnDissabled","setIsBtnDissabled","passwordInputType","setPasswordInputType","passwordInputRef","useRef","authForm","loginLabel","loginInput","passwordLabel","passwordInputWrapper","icon","current","focus","passwordInput","ref","text","switcherWrapper","switcherLabel","AddTodoForm","addTodoForm","addTodoFormBtn","todoTitleInput","TodoList","isDragging","setIsDragging","listContainer","dragItemIdx","dragItemNode","dragItemNodeClone","dragItemRect","dragItemRectOffsets","xOffset","yOffset","touchDuration","touchStartEvtTime","isFirstTouchMoveEvt","touchMoveFirstEvtTime","touchMoveStartDelay","activeTodosQuantity","dragEndHandler","listWrapper","list","todoIdx","ACTIVE","COMPLETED","listItem","draggable","onDragStart","itemIdx","setTimeout","dragStartHandler","undefined","onDragEnter","targetItemIdx","reorderedTodoList","JSON","parse","stringify","splice","dragEnterHandler","onTouchStart","timeStamp","getBoundingClientRect","changedTouches","clientX","left","clientY","top","cloneNode","setAttribute","width","onTouchStartHandler","onTouchMove","height","appendChild","querySelectorAll","forEach","getAttribute","bottom","Number","onTouchMoveHandler","onTouchEnd","removeChild","listItemTitle","listItemIconWrapper","listControlsWrapper","listControlsCounter","listControlsSortBtnWrapper","listControlsSortBtn","listControlsClrCompletedBtn","listFooter","listFooterText","SnackBar","message","clearMsg","duration","isOpen","setIsOpen","snackBarWrapper","snackBarText","UserAvatar","logOut","isTooltipActive","setIsTooltipActive","avatarOnClickHandler","userAvatar","charAt","toUpperCase","userAvatarTooltip","tooltipHeader","tooltipTitle","tooltipIconWrapper","tooltipText","tooltipBtn","Modal","children","modalWrapper","modal","modalHeader","btnClose","modalContent","modalLayout","Loader","loader","MoonIcon","color","xmlns","fill","fillRule","d","SunIcon","CrossIcon","CheckIcon","strokeWidth","stroke","EyeIcon","viewBox","EyeSlashIcon","App","THEMETYPE","setThemeType","userName","setUserName","unsubscribe","onAuthStateChanged","email","removeItem","appContainer","header","headerTitle","controlsWrapper","DARK","signOut","store","configureStore","reducer","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0759f8fe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"listWrapper\":\"TodoList_listWrapper__1FrVT\",\"list\":\"TodoList_list__1pJK_\",\"listItem\":\"TodoList_listItem__F9TIp\",\"listItemTitle\":\"TodoList_listItemTitle__2TUD6\",\"listItemIconWrapper\":\"TodoList_listItemIconWrapper__29PaU\",\"listControlsWrapper\":\"TodoList_listControlsWrapper__1UQNC\",\"listControlsCounter\":\"TodoList_listControlsCounter__QdPX5\",\"listControlsSortBtnWrapper\":\"TodoList_listControlsSortBtnWrapper__12-ZA\",\"listControlsSortBtn\":\"TodoList_listControlsSortBtn__1cKwx\",\"listControlsClrCompletedBtn\":\"TodoList_listControlsClrCompletedBtn__xl6JT\",\"listFooter\":\"TodoList_listFooter__3AeVU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"authForm\":\"AuthForm_authForm__1BJCN\",\"title\":\"AuthForm_title__3Kxxe\",\"text\":\"AuthForm_text__2uUZL\",\"loginLabel\":\"AuthForm_loginLabel__3NjMS\",\"passwordInputWrapper\":\"AuthForm_passwordInputWrapper__2xMgh\",\"passwordInput\":\"AuthForm_passwordInput__1qAHB\",\"loginInput\":\"AuthForm_loginInput__15aie\",\"icon\":\"AuthForm_icon__XfQxh\",\"switcherWrapper\":\"AuthForm_switcherWrapper__ItgfI\",\"switcherLabel\":\"AuthForm_switcherLabel__A49DT\",\"btn\":\"AuthForm_btn__AU6Kb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoTitle\":\"TodoListPage_infoTitle__11lP7\",\"loaderWrapper\":\"TodoListPage_loaderWrapper__1Xkl5\",\"modalTodoContent\":\"TodoListPage_modalTodoContent__1YatH\",\"modalBtnWrapper\":\"TodoListPage_modalBtnWrapper__VpNu-\",\"btn\":\"TodoListPage_btn__hXzsr\",\"modalInputLabel\":\"TodoListPage_modalInputLabel__BUqNR\",\"modalInput\":\"TodoListPage_modalInput__1wxXg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UserAvatar_wrapper__17137\",\"userAvatar\":\"UserAvatar_userAvatar__1R8Ny\",\"userAvatarTooltip\":\"UserAvatar_userAvatarTooltip__15VqX\",\"tooltipHeader\":\"UserAvatar_tooltipHeader__2tKSA\",\"tooltipTitle\":\"UserAvatar_tooltipTitle__M0zrv\",\"tooltipIconWrapper\":\"UserAvatar_tooltipIconWrapper__2oUvm\",\"tooltipText\":\"UserAvatar_tooltipText__1Tf5O\",\"tooltipBtn\":\"UserAvatar_tooltipBtn__2w9gN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalWrapper\":\"Modal_modalWrapper__7nqx_\",\"modalLayout\":\"Modal_modalLayout__1rlZA\",\"modal\":\"Modal_modal__252d6\",\"modalHeader\":\"Modal_modalHeader__sKFNx\",\"modalTitle\":\"Modal_modalTitle__MRF7G\",\"btnClose\":\"Modal_btnClose__23lMX\",\"modalContent\":\"Modal_modalContent__WvNje\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__NTmYt\",\"appContainer\":\"App_appContainer__3MAe8\",\"header\":\"App_header__2_lE6\",\"headerTitle\":\"App_headerTitle__1rR20\",\"controlsWrapper\":\"App_controlsWrapper__1ZEK4\",\"userAvatar\":\"App_userAvatar__3SAfa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkBoxWrapper\":\"CustomCheckbox_checkBoxWrapper__2ymCS\",\"checkIconWrapper\":\"CustomCheckbox_checkIconWrapper__IYs6l\",\"checkBox\":\"CustomCheckbox_checkBox__3g8KM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addTodoForm\":\"AddTodoForm_addTodoForm__2pxyK\",\"addTodoFormBtn\":\"AddTodoForm_addTodoFormBtn__2aESp\",\"todoTitleInput\":\"AddTodoForm_todoTitleInput__RmYYP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"snackBarWrapper\":\"SnackBar_snackBarWrapper__1dXTV\",\"snackBarText\":\"SnackBar_snackBarText__3A4TG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AuthPage_wrapper__em4TG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ThemeSwitcher_wrapper__2YKnb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__10c9P\",\"lds-ring\":\"Loader_lds-ring__5f4W9\"};","/* eslint-disable no-unused-vars */\nimport React from 'react';\n\nexport interface IRoute {\n  path: string;\n  component: React.ComponentType;\n  exact?: boolean;\n}\n\nexport enum RouteNames {\n  LOGIN = '/auth',\n  TODOLIST = '/',\n}\n\nexport enum LocalStorageKeys {\n  THEMETYPE = 'TodoAppThemeType',\n  USERAUTHTOKEN = 'TodoAppAuthToken',\n}\n\nexport enum ThemeTypes {\n  LIGHT = 'light',\n  DARK = 'dark',\n}\n\nexport enum TodosSortOrder {\n  ALL = 'all',\n  ACTIVE = 'active',\n  COMPLETED = 'completed',\n}\n\nexport enum ActionsWithTodos {\n  DELETE = 'Delete',\n  EDIT = 'Edit',\n  CLRCOMPLETED = 'Clear completed'\n}\nexport interface IUserState {\n  userId: string;\n  isAuthing: boolean;\n  authErrMsg: string;\n}\n\nexport interface IUserLoginInput {\n  userEmail: string;\n  password: string;\n  isSignedForm: boolean;\n}\n\nexport interface IFirebaseLoginResponse {\n  uid: string;\n}\n\nexport interface ITodosSlice {\n  todoList: ITodoItem[];\n  updateDb: boolean;\n  isLoading: boolean;\n  isError: boolean;\n  todosErrMsg: string;\n  sortOrder: string;\n}\nexport interface ITodoItem {\n  id: string;\n  title: string;\n  isCompleted: boolean;\n}\nexport interface ITodoListSetToDb {\n  userId: string;\n  todoList: ITodoItem[];\n}\n\nexport interface ITodosGetFromDb {\n  todoList: ITodoItem[];\n}\n\nexport interface ITodosSortOrderSetToDb {\n  userId: string;\n  sortOrder: string;\n}\nexport interface ITodosSortOrderGetFromDb {\n  todosSortOrder: string;\n}\n\nexport interface IRectOffsets {\n  xOffset: number;\n  yOffset: number;\n}\n\nexport interface ITouchDuration {\n  touchStartEvtTime: number,\n  isFirstTouchMoveEvt: boolean,\n  touchMoveFirstEvtTime: number,\n  touchMoveStartDelay: number,\n}\n","import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, setPersistence, browserLocalPersistence } from 'firebase/auth';\nimport { initializeApp } from 'firebase/app';\nimport { getFirestore } from 'firebase/firestore';\nimport { doc, setDoc, getDoc } from 'firebase/firestore';\n\nimport { IUserLoginInput, IFirebaseLoginResponse, ITodoListSetToDb, ITodosSortOrderSetToDb, TodosSortOrder } from '../types/types';\n\nexport const firebaseApp = initializeApp({\n  apiKey: 'AIzaSyDGmhjDViXDcauYtXU6H7BJkmGekgJCfcg',\n  authDomain: 'todo-list-app-bb89a.firebaseapp.com',\n  projectId: 'todo-list-app-bb89a',\n  storageBucket: 'todo-list-app-bb89a.appspot.com',\n  messagingSenderId: '958201388501',\n  appId: '1:958201388501:web:a3538848f5df0a77bcb15c',\n});\n\nexport const dataBase = getFirestore();\n\nexport const auth = getAuth();\n\nsetPersistence(auth, browserLocalPersistence);\n\nexport const userAuth = async (data: IUserLoginInput): Promise<IFirebaseLoginResponse> => {\n  const { user } = data.isSignedForm ?\n    await createUserWithEmailAndPassword(auth, data.userEmail, data.password) :\n    await signInWithEmailAndPassword(auth, data.userEmail, data.password);\n\n  if (data.isSignedForm) {\n    setTodosSortOrderToDb({ userId: user.uid, sortOrder: TodosSortOrder.ALL });\n  }\n\n  return { uid: user.uid };\n};\n\nexport const saveTodosToDb = async (todos: ITodoListSetToDb) => {\n  await setDoc(doc(dataBase, 'users', todos.userId, 'todos', 'todoList'), { todoList: todos.todoList } );\n};\n\nexport const getTodosFromDb = async (userId: string) => {\n  const todos = await getDoc(doc(dataBase, 'users', userId, 'todos', 'todoList'));\n  return todos.data();\n};\n\nexport const setTodosSortOrderToDb = async (sortOrder: ITodosSortOrderSetToDb) => {\n  await setDoc(doc(dataBase, 'users', sortOrder.userId, 'todos', 'todosSortOrder'), { todosSortOrder: sortOrder.sortOrder });\n};\n\nexport const getTodosSortOrderFromDb = async (userId: string) => {\n  const sortOrder = await getDoc(doc(dataBase, 'users', userId, 'todos', 'todosSortOrder'));\n  return sortOrder.data();\n};\n","import { createSlice, PayloadAction, createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { userAuth } from '../api/firebase';\nimport { IUserState, IUserLoginInput, IFirebaseLoginResponse, LocalStorageKeys } from '../types/types';\n\nconst initialState = {\n  userId: localStorage.getItem(LocalStorageKeys.USERAUTHTOKEN) || '',\n  isAuthing: false,\n  authErrMsg: '',\n} as IUserState;\n\nexport const userAuthThunk = createAsyncThunk(\n  'user/userAuthThunk',\n  async (data: IUserLoginInput, { rejectWithValue }) => {\n    try {\n      const response = await userAuth(data);\n\n      return response;\n    } catch(err: any) {\n      return rejectWithValue(err.code);\n    }\n  },\n);\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    setUserId(state, action: PayloadAction<{userId: string}>) {\n      state.userId = action.payload.userId;\n    },\n    setAuthErrMsg(state, action: PayloadAction<{authErrMsg: string}>) {\n      state.authErrMsg = (action.payload.authErrMsg);\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(userAuthThunk.pending, (state) => {\n      state.isAuthing = true;\n\n      if (state.authErrMsg) {\n        state.authErrMsg = '';\n      }\n    });\n    builder.addCase(userAuthThunk.fulfilled, (state, action) => {\n      const payload = action.payload as IFirebaseLoginResponse;\n\n      state.userId = payload.uid;\n      localStorage.setItem(LocalStorageKeys.USERAUTHTOKEN, payload.uid);\n      state.isAuthing = false;\n\n      if (state.authErrMsg) {\n        state.authErrMsg = '';\n      }\n    });\n    builder.addCase(userAuthThunk.rejected, (state, action) => {\n      state.userId = '';\n      state.isAuthing = false;\n      state.authErrMsg = `Error: ${action.payload}`;\n    });\n  },\n});\n\nexport const { setUserId, setAuthErrMsg } = userSlice.actions;\nexport default userSlice.reducer;\n","import { createSlice, PayloadAction, createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { getTodosFromDb, saveTodosToDb, getTodosSortOrderFromDb, setTodosSortOrderToDb } from '../api/firebase';\n\nimport { ITodosSlice, ITodoListSetToDb, ITodoItem, ITodosSortOrderSetToDb, ITodosGetFromDb, ITodosSortOrderGetFromDb, TodosSortOrder } from '../types/types';\n\nconst initialState = {\n  todoList: [],\n  updateDb: false,\n  isLoading: false,\n  isError: false,\n  todosErrMsg: '',\n  sortOrder: TodosSortOrder.ALL,\n} as ITodosSlice;\n\nexport const saveTodosToDbThunk = createAsyncThunk(\n  'todos/saveTodosToDbThunk',\n  async (todoList: ITodoListSetToDb, { rejectWithValue }) => {\n    try {\n      await saveTodosToDb(todoList);\n    } catch(err: any) {\n      return rejectWithValue(err.code);\n    }\n  },\n);\n\nexport const getTodosFromDbThunk = createAsyncThunk(\n  'todos/getTodosFromDbThunk',\n  async (userId: string, { rejectWithValue }) => {\n    try {\n      const response = await getTodosFromDb(userId);\n\n      return response;\n    } catch(err: any) {\n      return rejectWithValue(err.code);\n    }\n  },\n);\n\nexport const setTodosSortOrderToDbThunk = createAsyncThunk(\n  'todos/setTodosSortOrderToDbThunk',\n  async (sortOrder: ITodosSortOrderSetToDb, { rejectWithValue }) => {\n    try {\n      await setTodosSortOrderToDb(sortOrder);\n    } catch(err: any) {\n      return rejectWithValue(err.code);\n    }\n  },\n);\n\nexport const getTodosSortOrderDbThunk = createAsyncThunk(\n  'todos/getTodosSortOrderDbThunk',\n  async (userId: string, { rejectWithValue }) => {\n    try {\n      const response = await getTodosSortOrderFromDb(userId);\n\n      return response;\n    } catch(err: any) {\n      return rejectWithValue(err.code);\n    }\n  },\n);\n\nconst todosSlice = createSlice({\n  name: 'todos',\n  initialState,\n  reducers: {\n    addTodo(state, action: PayloadAction<ITodoItem>) {\n      state.todoList.push(action.payload);\n      state.updateDb = true;\n    },\n    toggleTodoComplete(state, action: PayloadAction<{ todoId: string }>) {\n      state.todoList = state.todoList.map(todo => {\n        return todo.id === action.payload.todoId ? { ...todo, isCompleted: !todo.isCompleted } : todo;\n      });\n      state.updateDb = true;\n    },\n    editTodo(state, action: PayloadAction<{ todoId: string, todoTitle: string}>) {\n      state.todoList = state.todoList.map(todo => {\n        return todo.id === action.payload.todoId ? { ...todo, title: action.payload.todoTitle } : todo;\n      });\n      state.updateDb = true;\n    },\n    deleteTodo(state, action: PayloadAction<{ todoId: string }>) {\n      state.todoList = state.todoList.filter(todo => todo.id !== action.payload.todoId);\n      state.updateDb = true;\n    },\n    deleteCompletedTodo(state) {\n      state.todoList = state.todoList.filter(todo => todo.isCompleted === false);\n      state.updateDb = true;\n    },\n    updateTodoList(state, action: PayloadAction<ITodoItem[]>) {\n      state.todoList = action.payload;\n    },\n    setTodosSortOrder(state, action: PayloadAction<{sortOrder: string}>) {\n      state.sortOrder = (action.payload.sortOrder);\n    },\n    setTodosErrMsg(state, action: PayloadAction<{todosErrMsg: string}>) {\n      state.todosErrMsg = (action.payload.todosErrMsg);\n    },\n    uploadTodoListToDb(state) {\n      state.updateDb = true;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(saveTodosToDbThunk.pending, (state) => {\n      state.isLoading = true;\n\n      if (state.isError) {\n        state.isError = false;\n        state.todosErrMsg = '';\n      }\n    });\n    builder.addCase(saveTodosToDbThunk.fulfilled, (state) => {\n      state.isLoading = false;\n\n      if (state.updateDb) {\n        state.updateDb = false;\n      }\n    });\n    builder.addCase(saveTodosToDbThunk.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.todosErrMsg = `Error uploading Todos to cloud store: ${action.payload}`;\n\n      if (state.updateDb) {\n        state.updateDb = false;\n      }\n    });\n    builder.addCase(getTodosFromDbThunk.pending, (state) => {\n      state.isLoading = true;\n\n      if (state.isError) {\n        state.isError = false;\n        state.todosErrMsg = '';\n      }\n    });\n    builder.addCase(getTodosFromDbThunk.fulfilled, (state, action) => {\n      const todosFromDb = action.payload as ITodosGetFromDb;\n\n      state.todoList = todosFromDb ? todosFromDb.todoList : [];\n      state.isLoading = false;\n    });\n    builder.addCase(getTodosFromDbThunk.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.todosErrMsg = `Error loading Todos from cloud store: ${action.payload}`;\n    });\n    builder.addCase(getTodosSortOrderDbThunk.pending, (state) => {\n      if (state.isError) {\n        state.isError = false;\n        state.todosErrMsg = '';\n      }\n    });\n    builder.addCase(getTodosSortOrderDbThunk.fulfilled, (state, action) => {\n      const todosFromDb = action.payload as ITodosSortOrderGetFromDb;\n\n      if (state.sortOrder !== todosFromDb.todosSortOrder) {\n        state.sortOrder = todosFromDb.todosSortOrder;\n      }\n    });\n    builder.addCase(getTodosSortOrderDbThunk.rejected, (state, action) => {\n      state.isError = true;\n      state.todosErrMsg = `Error loading sort order from cloud store: ${action.payload}`;\n    });\n    builder.addCase(setTodosSortOrderToDbThunk.pending, (state) => {\n      if (state.isError) {\n        state.isError = false;\n        state.todosErrMsg = '';\n      }\n    });\n    builder.addCase(setTodosSortOrderToDbThunk.fulfilled, (state) => {\n    });\n    builder.addCase(setTodosSortOrderToDbThunk.rejected, (state, action) => {\n      state.isError = true;\n      state.todosErrMsg = `Error uploading sort order to cloud store: ${action.payload}`;\n    });\n  },\n});\n\nexport const {\n  addTodo,\n  deleteTodo,\n  deleteCompletedTodo,\n  editTodo,\n  toggleTodoComplete,\n  updateTodoList,\n  uploadTodoListToDb,\n  setTodosSortOrder,\n  setTodosErrMsg,\n} = todosSlice.actions;\nexport default todosSlice.reducer;\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\n\nimport { AppDispatch, RootState } from '../store';\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\n\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import React, { FC, useState } from 'react';\n\nimport { RootState } from '../../store/index';\nimport { IUserLoginInput } from '../../types/types';\nimport { userAuthThunk } from '../../store/userSlice';\nimport { useAppDispatch, useAppSelector } from '../../hooks/redux';\nimport { AuthForm } from '../../components/index';\n\nimport styles from './AuthPage.module.css';\n\ninterface AuthPageProps {}\n\nconst AuthPage: FC<AuthPageProps> = () => {\n  const [isSignedForm, setIsSignedForm] = useState<boolean>(false);\n  const [userLogin, setUserLogin] = useState<string>('');\n  const [userPassword, setUserPassword] = useState<string>('');\n  const { isAuthing } = useAppSelector((state: RootState) => state.user);\n  const reduxDispatch = useAppDispatch();\n\n  const onSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    const data: IUserLoginInput = {\n      userEmail: userLogin,\n      password: userPassword,\n      isSignedForm: isSignedForm,\n    };\n    reduxDispatch(userAuthThunk(data));\n  };\n  const onSwitchChange = () => setIsSignedForm(!isSignedForm);\n  const onLoginChange = (value: string) => setUserLogin(value);\n  const onPasswordChange = (value: string) => setUserPassword(value);\n\n  return (\n    <div className={styles.wrapper}>\n      <AuthForm\n        onSubmit = {onSubmit}\n        onSwitchChange = {onSwitchChange}\n        onLoginChange = {onLoginChange}\n        onPasswordChange = {onPasswordChange}\n        userLogin = {userLogin}\n        userPassword = {userPassword}\n        isSignedForm = {isSignedForm}\n        isAuthing = {isAuthing}\n      />\n    </div>\n  );\n};\n\nexport default AuthPage;\n","export const detectTouchDevice = (): boolean => {\n  const devices = new RegExp('Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini', 'i');\n\n  return devices.test(navigator.userAgent);\n};\n","import React, { FC, useState, useEffect, SyntheticEvent } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { RootState } from '../../store/index';\nimport { addTodo, deleteTodo, deleteCompletedTodo, editTodo, toggleTodoComplete, updateTodoList, uploadTodoListToDb, setTodosErrMsg, setTodosSortOrder, setTodosSortOrderToDbThunk } from '../../store/todosSlice';\nimport { ActionsWithTodos, ITodoItem } from '../../types/types';\nimport { AddTodoForm, TodoList, Modal, Loader } from '../../components/index';\nimport { useAppDispatch, useAppSelector } from '../../hooks/redux';\nimport { detectTouchDevice } from '../../components/utils';\n\nimport styles from './TodoListPage.module.css';\n\ninterface TodoListPageProps {}\n\nconst TodoListPage: FC<TodoListPageProps> = () => {\n  const [todoTitle, setTodoTitle] = useState<string>('');\n  const [isModalActive, setIsModalActive] = useState<boolean>(false);\n  const [actionTodoType, setActionTodoType] = useState<string>('');\n  const [actionTodoTitle, setActionTodoTitle] = useState<string>('');\n  const [actionTodoId, setActionTodoId] = useState<string>('');\n  const [isSortControlsExternal, setIsSortControlsExternal] = useState<boolean>(window.innerWidth > 375 ? false : true);\n  const { userId } = useAppSelector((state: RootState) => state.user);\n  const { todoList, isLoading, isError, updateDb, sortOrder } = useAppSelector((state: RootState) => state.todos);\n  const reduxDispatch = useAppDispatch();\n  const isTouchDevice = detectTouchDevice();\n\n  const onTitleChange = (value: string) => setTodoTitle(value);\n  const onSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (todoList.find(todo => todo.title.toLowerCase() === todoTitle.trim().toLowerCase() && !todo.isCompleted)) {\n      reduxDispatch(setTodosErrMsg({ todosErrMsg: 'Todo with same title is already exist!' }));\n      return;\n    }\n\n    reduxDispatch(addTodo({\n      id: uuidv4(),\n      title: todoTitle.trim(),\n      isCompleted: false,\n    }));\n\n    if (!isError) {\n      setTodoTitle('');\n    }\n  };\n  const toggleCheckBoxHandler = (todoId: string) => {\n    reduxDispatch(toggleTodoComplete({ todoId }));\n  };\n  const sortBtnHandler = (sortOrder: string) => {\n    reduxDispatch(setTodosSortOrder({ sortOrder }));\n    reduxDispatch(setTodosSortOrderToDbThunk({ userId, sortOrder }));\n  };\n  const openModalHandler = () => {\n    setIsModalActive(true);\n    document.body.style.overflow = 'hidden';\n  };\n  const closeModalHandler = () => {\n    setIsModalActive(false);\n    document.body.style.overflow = 'scroll';\n  };\n  const deleteBtnHandler = (todoId: string, todoTitle: string) => {\n    setActionTodoType(ActionsWithTodos.DELETE);\n    setActionTodoTitle(todoTitle);\n    setActionTodoId(todoId);\n    openModalHandler();\n  };\n  const clrCompletedBtnHandler = () => {\n    setActionTodoType(ActionsWithTodos.CLRCOMPLETED);\n    openModalHandler();\n  };\n  const editTodoHandler = (todoId: string, todoTitle: string) => {\n    setActionTodoType(ActionsWithTodos.EDIT);\n    setActionTodoTitle(todoTitle);\n    setActionTodoId(todoId);\n    openModalHandler();\n  };\n  const acceptBtnHandler = (e: SyntheticEvent<HTMLButtonElement>) => {\n    e.currentTarget.blur();\n    if (actionTodoType === ActionsWithTodos.DELETE) {\n      reduxDispatch(deleteTodo({ todoId: actionTodoId }));\n      setActionTodoTitle('');\n      setActionTodoId('');\n    }\n    if (actionTodoType === ActionsWithTodos.CLRCOMPLETED) {\n      reduxDispatch(deleteCompletedTodo());\n    }\n    if (actionTodoType === ActionsWithTodos.EDIT) {\n      if (todoList.find(todo => todo.title.toLowerCase() === actionTodoTitle.trim().toLowerCase() && !todo.isCompleted)) {\n        reduxDispatch(setTodosErrMsg({ todosErrMsg: 'Todo with same title is already exist!' }));\n        return;\n      }\n      reduxDispatch(editTodo({ todoId: actionTodoId, todoTitle: actionTodoTitle.trim() }));\n      setActionTodoTitle('');\n      setActionTodoId('');\n    }\n    setActionTodoType('');\n    closeModalHandler();\n  };\n  const rejectBtnHandler = (e: SyntheticEvent<HTMLButtonElement>) => {\n    e.currentTarget.blur();\n    setActionTodoType('');\n    setActionTodoTitle('');\n    setActionTodoId('');\n    closeModalHandler();\n  };\n  const updateTodos = (todoList: ITodoItem[]) => {\n    reduxDispatch(updateTodoList(todoList));\n  };\n  const uploadTodosToDb = () => {\n    reduxDispatch(uploadTodoListToDb());\n  };\n\n  useEffect(() => {\n    const screenResizeHandler = () => {\n      window.innerWidth > 768 ? setIsSortControlsExternal(false) : setIsSortControlsExternal(true);\n    };\n\n    screenResizeHandler();\n    window.addEventListener('resize', screenResizeHandler);\n\n    return () => window.removeEventListener('resize', screenResizeHandler);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={styles.wrapper}>\n      <AddTodoForm\n        onSubmit = {onSubmit}\n        onTitleChange = {onTitleChange}\n        todoTitle = {todoTitle}\n      />\n\n      {isLoading && !updateDb ?\n        <div className={styles.loaderWrapper}>\n          <Loader />\n        </div>\n        :\n        todoList.length\n          ?\n          <TodoList\n            todos = {todoList}\n            todosSortOrder = {sortOrder}\n            isSortControlsExternal = {isSortControlsExternal}\n            isTouchDevice = {isTouchDevice}\n            isDraggable = {true}\n            toggleCheckBoxHandler = {toggleCheckBoxHandler}\n            deleteBtnHandler = {deleteBtnHandler}\n            sortBtnHandler = {sortBtnHandler}\n            clrCompletedBtnHandler = {clrCompletedBtnHandler}\n            editTodoHandler = {editTodoHandler}\n            dragEnterEvent = {updateTodos}\n            dragEndEvent = {uploadTodosToDb}\n          />\n          :\n          isError\n            ?\n            <h3 className={styles.infoTitle}>Error loading Todos from cloud store!</h3>\n            :\n            <h3 className={styles.infoTitle}>You have no Todos yet, add it...</h3>\n      }\n      <Modal\n        isModalActive = {isModalActive}\n        closeModalHandler = {closeModalHandler}\n        modalTitle = {`${actionTodoType} ${actionTodoType === ActionsWithTodos.CLRCOMPLETED ? 'Todos' : 'Todo'}`}\n      >\n        <>\n          <div className={styles.modalTodoContent}>\n            {\n              actionTodoType === ActionsWithTodos.EDIT\n                ?\n                <label className={styles.modalInputLabel}>Todo title:\n                  <input\n                    className={styles.modalInput}\n                    type=\"text\"\n                    value = {actionTodoTitle}\n                    onChange = {(e) => setActionTodoTitle(e.target.value)}\n                    placeholder='Enter a new Todo title...'\n                  />\n                </label>\n                :\n                actionTodoType === ActionsWithTodos.DELETE\n                  ?\n                  `Delete Todo: \"${actionTodoTitle}\" from Todos list ?`\n                  :\n                  'Delete all completed Todos from Todos list ?'\n            }\n          </div>\n          <div className={styles.modalBtnWrapper}>\n            <button\n              className={styles.btn}\n              disabled={!actionTodoTitle && actionTodoType !== ActionsWithTodos.CLRCOMPLETED ? true : false}\n              onClick = {(e) => acceptBtnHandler(e)}\n            >\n              {actionTodoType === ActionsWithTodos.EDIT ? 'Save' : 'Delete'}\n            </button>\n            <button\n              className={styles.btn}\n              onClick = {(e) =>rejectBtnHandler(e)}\n            >\n            Cancel\n            </button>\n          </div>\n        </>\n      </Modal>\n    </div>\n  );\n};\n\nexport default TodoListPage;\n","import { IRoute, RouteNames } from '../../types/types';\nimport { AuthPage, TodoListPage } from '../../pages';\n\nexport const publicRoutes: IRoute[] = [\n  {\n    path: RouteNames.LOGIN,\n    exact: true,\n    component: AuthPage,\n  },\n];\n\nexport const privateRoutes: IRoute[] = [\n  {\n    path: RouteNames.TODOLIST,\n    exact: true,\n    component: TodoListPage,\n  },\n];\n","import { FC, useEffect, useState } from 'react';\nimport { Switch, Route, Redirect } from 'react-router';\n\nimport { RouteNames, IRoute } from '../../types/types';\nimport { RootState } from '../../store/index';\nimport { useAppSelector } from '../../hooks/redux';\nimport { privateRoutes, publicRoutes } from '../router';\n\ninterface AppRouterProps {}\n\nconst AppRouter: FC<AppRouterProps> = () => {\n  const { userId } = useAppSelector((state: RootState) => state.user);\n  const [currentRoutes, setCurrentRoutes] = useState<IRoute[]>(publicRoutes);\n\n  useEffect(() => {\n    userId ? setCurrentRoutes(privateRoutes) : setCurrentRoutes(publicRoutes);\n  }, [userId]);\n\n  return (\n    <Switch>\n      {currentRoutes.map(route =>\n        <Route\n          key = {route.path}\n          path = {route.path}\n          exact = {route.exact}\n          component = {route.component}\n        />,\n      )}\n      <Redirect to = {userId ? RouteNames.TODOLIST : RouteNames.LOGIN}/>\n    </Switch>\n  );\n};\n\nexport default AppRouter;\n","import { FC } from 'react';\n\nimport { ThemeTypes } from '../../types/types';\nimport { SunIcon, MoonIcon } from '../../components/index';\n\nimport styles from './ThemeSwitcher.module.css';\n\ninterface ThemeSwitcherProps {\n  themeType: string;\n  onClickHandler: () => void;\n}\n\nconst ThemeSwitcher: FC<ThemeSwitcherProps> = ({\n  themeType = ThemeTypes.LIGHT,\n  onClickHandler,\n}) => {\n  return (\n    <div\n      className={styles.wrapper}\n      onClick={onClickHandler}\n    >\n      {themeType === ThemeTypes.LIGHT\n        ?\n        <SunIcon />\n        :\n        <MoonIcon />\n      }\n    </div>\n  );\n};\n\nexport default ThemeSwitcher;\n","import { FC } from 'react';\n\nimport { CheckIcon } from '../../components/index';\nimport styles from './CustomCheckbox.module.css';\n\ninterface CustomCheckboxProps {\n  isChecked?: boolean;\n  isTouchDevice: boolean;\n  toggleCheckBoxHandler: () => void;\n}\n\nconst CustomCheckbox: FC<CustomCheckboxProps> = ({\n  isChecked = false,\n  isTouchDevice,\n  toggleCheckBoxHandler,\n}) => {\n\n  return (\n    <div className={styles.checkBoxWrapper}>\n      <input\n        className={styles.checkBox}\n        data-is-touch-device={isTouchDevice}\n        id=\"customCheckbox\"\n        type=\"checkbox\"\n        checked = {isChecked}\n        readOnly\n\n      />\n      <label\n        htmlFor=\"customCheckbox\"\n        onClick = {toggleCheckBoxHandler}\n      >\n        {isChecked && <div className={styles.checkIconWrapper}><CheckIcon /></div>}\n      </label>\n    </div>\n  );\n};\n\nexport default CustomCheckbox;\n","import React, { FC, useState, useEffect, useRef } from 'react';\n\nimport { CustomCheckbox, EyeIcon, EyeSlashIcon } from '../index';\nimport { detectTouchDevice } from '../utils';\n\nimport styles from './AuthForm.module.css';\n\ninterface AuthFormProps {\n  onSubmit: (e: React.FormEvent) => void;\n  onSwitchChange: () => void;\n  onLoginChange: (value: string) => void;\n  onPasswordChange: (value: string) => void;\n  userLogin: string;\n  userPassword: string;\n  isSignedForm: boolean;\n  isAuthing: boolean;\n}\n\nconst AuthForm: FC<AuthFormProps> = ({\n  onSubmit,\n  onSwitchChange,\n  onLoginChange,\n  onPasswordChange,\n  userLogin = '',\n  userPassword = '',\n  isSignedForm = false,\n  isAuthing = false,\n}) => {\n  const [isBtnDissabled, setIsBtnDissabled] = useState<boolean>(true);\n  const [passwordInputType, setPasswordInputType] = useState<string>('password');\n  const passwordInputRef = useRef<HTMLInputElement>(null);\n  const isTouchDevice = detectTouchDevice();\n\n  useEffect(() => {\n    if (userLogin && userPassword) {\n      setIsBtnDissabled(false);\n    } else {\n      if (!isBtnDissabled) {\n        setIsBtnDissabled(true);\n      }\n    }\n  }, [isBtnDissabled, userLogin, userPassword]);\n\n  return (\n    <form\n      className={styles.authForm}\n      onSubmit = {(e) => onSubmit(e)}\n    >\n      <h3 className={styles.title}>{isSignedForm ? 'Sign In Form' : 'Log In Form'}</h3>\n      <label className={styles.loginLabel}>Login (e-mail): *\n        <input\n          className={styles.loginInput}\n          type=\"text\"\n          value = {userLogin}\n          onChange = {(e) => onLoginChange(e.target.value)}\n          placeholder='Enter your login...'\n        />\n      </label>\n      <label\n        className={styles.passwordLabel}\n        htmlFor='passwordInput'\n      >\n          Password (at least 6 chars): *\n      </label>\n      <div className={styles.passwordInputWrapper}>\n        {\n          passwordInputType === 'password'\n            ?\n            <div\n              className={styles.icon}\n              onClick={() => {\n                setPasswordInputType('text');\n                passwordInputRef.current?.focus();\n              }}\n            >\n              <EyeSlashIcon />\n            </div>\n            :\n            <div\n              className={styles.icon}\n              onClick={() => {\n                setPasswordInputType('password');\n                passwordInputRef.current?.focus();\n              }}\n            >\n              <EyeIcon />\n            </div>\n        }\n        <input\n          className={styles.passwordInput}\n          type={passwordInputType}\n          id='passwordInput'\n          ref={passwordInputRef}\n          value = {userPassword}\n          onChange = {(e) => onPasswordChange(e.target.value)}\n          placeholder='Enter your password...'\n        />\n      </div>\n      <span className={styles.text}>* required fields</span>\n      <div className={styles.switcherWrapper}>\n        <CustomCheckbox\n          isChecked = {isSignedForm}\n          isTouchDevice = {isTouchDevice}\n          toggleCheckBoxHandler = {onSwitchChange}\n        />\n        <div className={styles.switcherLabel}>Register and Sign In</div>\n      </div>\n      <button\n        className={styles.btn}\n        disabled={isBtnDissabled}\n        onClick = {(e) => e.currentTarget.blur()}\n      >\n        {isAuthing ? 'Authing...' : isSignedForm ? 'Sign In' : 'Log In'}\n      </button>\n    </form>\n  );\n};\n\nexport default AuthForm;\n","import React, { FC } from 'react';\n\nimport styles from './AddTodoForm.module.css';\n\ninterface AddTodoFormProps {\n  onSubmit: (e: React.FormEvent) => void;\n  onTitleChange: (value: string) => void;\n  todoTitle: string;\n}\n\nconst AddTodoForm: FC<AddTodoFormProps> = ({\n  onSubmit,\n  onTitleChange,\n  todoTitle = '',\n}) => {\n\n  return (\n    <form\n      className={styles.addTodoForm}\n      onSubmit = {(e) => onSubmit(e)}\n    >\n      <button\n        className={styles.addTodoFormBtn}\n        disabled={todoTitle ? false : true}\n        onClick = {(e) => e.currentTarget.blur()}\n      ></button>\n      <input\n        className={styles.todoTitleInput}\n        type=\"text\"\n        value = {todoTitle}\n        onChange = {(e) => onTitleChange(e.target.value)}\n        placeholder='Create a new todo...'\n      />\n    </form>\n  );\n};\n\nexport default AddTodoForm;\n","import { FC, useState, useRef, SyntheticEvent, TouchEvent, useEffect } from 'react';\n\nimport { ITodoItem, TodosSortOrder, IRectOffsets, ITouchDuration } from '../../types/types';\nimport { CustomCheckbox, CrossIcon } from '../index';\n\nimport styles from './TodoList.module.css';\n\ninterface TodoListProps {\n  todos: ITodoItem[];\n  todosSortOrder: string;\n  isSortControlsExternal: boolean;\n  isTouchDevice: boolean;\n  isDraggable?: boolean;\n  toggleCheckBoxHandler: (todoId: string) => void;\n  deleteBtnHandler: (todoId: string, todoTitle: string) => void;\n  sortBtnHandler: (sortOrderValue: string) => void;\n  clrCompletedBtnHandler: () => void;\n  editTodoHandler: (todoId: string, todoTitle: string) => void;\n  dragEnterEvent?: (reorderedList: ITodoItem[]) => void;\n  dragEndEvent?: () => void;\n}\n\nconst TodoList: FC<TodoListProps> = ({\n  todos,\n  todosSortOrder,\n  isSortControlsExternal,\n  isTouchDevice,\n  isDraggable = false,\n  toggleCheckBoxHandler,\n  deleteBtnHandler,\n  sortBtnHandler,\n  clrCompletedBtnHandler,\n  editTodoHandler,\n  dragEnterEvent = () => undefined,\n  dragEndEvent = () => undefined,\n}) => {\n  const [isDragging, setIsDragging] = useState<boolean>(false);\n  const listContainer = useRef<HTMLUListElement | null>(null);\n  const dragItemIdx = useRef<number | null>(null);\n  const dragItemNode = useRef<HTMLElement | null>(null);\n  const dragItemNodeClone = useRef<HTMLElement | null>(null);\n  const dragItemRect = useRef<DOMRect | null>(null);\n  const dragItemRectOffsets = useRef<IRectOffsets>({ xOffset: 0, yOffset: 0 });\n  const touchDuration = useRef<ITouchDuration>({\n    touchStartEvtTime: 0,\n    isFirstTouchMoveEvt: true,\n    touchMoveFirstEvtTime: 0,\n    touchMoveStartDelay: 0,\n  });\n  let activeTodosQuantity = todos.filter(todo => todo.isCompleted === false).length;\n\n  useEffect(() => {\n    if (!isTouchDevice) {\n      return;\n    }\n    document.body.style.overflow = isDragging ? 'hidden' : 'scroll';\n  }, [isDragging, isTouchDevice]);\n\n  const dragStartHandler = (e: SyntheticEvent<HTMLElement>, itemIdx: number): void => {\n    dragItemNode.current = e.currentTarget;\n    dragItemNode.current.addEventListener('dragend', dragEndHandler);\n    dragItemIdx.current = itemIdx;\n\n    setTimeout(() => {\n      setIsDragging(true);\n    }, 0);\n  };\n  const dragEnterHandler = (e: SyntheticEvent<HTMLElement>, targetItemIdx: number) => {\n    if (dragItemNode.current !== e.target) {\n      const reorderedTodoList = JSON.parse(JSON.stringify(todos));\n      reorderedTodoList.splice(targetItemIdx, 0, reorderedTodoList.splice(dragItemIdx.current, 1)[0]);\n      dragItemIdx.current = targetItemIdx;\n      dragEnterEvent(reorderedTodoList);\n    }\n  };\n  const dragEndHandler = () => {\n    setIsDragging(false);\n    dragItemIdx.current = null;\n    dragItemNode.current?.removeEventListener('dragend', dragEndHandler);\n    dragItemNode.current = null;\n    dragEndEvent();\n  };\n\n  const onTouchStartHandler = (e: TouchEvent<HTMLElement>, itemIdx: number) => {\n    touchDuration.current.touchStartEvtTime = e.timeStamp;\n    dragItemNode.current = e.currentTarget;\n    dragItemIdx.current = itemIdx;\n    dragItemRect.current = dragItemNode.current.getBoundingClientRect();\n    dragItemRectOffsets.current.xOffset = e.changedTouches[0].clientX - dragItemRect.current.left;\n    dragItemRectOffsets.current.yOffset = e.changedTouches[0].clientY - dragItemRect.current.top;\n    dragItemNodeClone.current = dragItemNode.current.cloneNode(true) as HTMLElement;\n    dragItemNodeClone.current.setAttribute('data-is-drag-clone', 'true');\n    dragItemNodeClone.current.style.width = `${dragItemRect.current?.width}px`;\n  };\n  const onTouchMoveHandler = (e: TouchEvent<HTMLElement>) => {\n    if (touchDuration.current.isFirstTouchMoveEvt) {\n      touchDuration.current.isFirstTouchMoveEvt = false;\n      touchDuration.current.touchMoveFirstEvtTime = e.timeStamp;\n      touchDuration.current.touchMoveStartDelay = touchDuration.current.touchMoveFirstEvtTime - touchDuration.current.touchStartEvtTime;\n    }\n    if (touchDuration.current.touchMoveStartDelay < 150) {\n      return;\n    }\n    if (listContainer.current && dragItemNodeClone.current) {\n      setIsDragging(true);\n\n      if (dragItemRectOffsets.current.xOffset && dragItemRectOffsets.current.yOffset) {\n        dragItemNodeClone.current.style.left = `${e.changedTouches[0].clientX - dragItemRectOffsets.current.xOffset}px`;\n        dragItemNodeClone.current.style.top = `${e.changedTouches[0].clientY - dragItemRectOffsets.current.yOffset}px`;\n      } else {\n        if (dragItemRect.current) {\n          dragItemNodeClone.current.style.left = `${e.changedTouches[0].clientX - dragItemRect.current.width / 2}px`;\n          dragItemNodeClone.current.style.top = `${e.changedTouches[0].clientY - dragItemRect.current.height / 2}px`;\n        } else {\n          dragItemNodeClone.current.style.left = `${e.changedTouches[0].clientX}px`;\n          dragItemNodeClone.current.style.top = `${e.changedTouches[0].clientY}px`;\n        }\n      }\n\n      dragItemNodeClone.current.setAttribute('data-is-dragging', 'true');\n      listContainer.current.appendChild<HTMLElement>(dragItemNodeClone.current);\n\n      const todosNodeCollection = listContainer.current.querySelectorAll('li[data-is-dragging=false]');\n\n      todosNodeCollection.forEach(todo => {\n        if (\n          dragItemNodeClone.current && dragItemNodeClone.current.getAttribute('data-order-number') !== todo.getAttribute('data-order-number') &&\n          dragItemNodeClone.current.getBoundingClientRect().top + dragItemNodeClone.current.getBoundingClientRect().height / 2 < todo.getBoundingClientRect().bottom &&\n          dragItemNodeClone.current.getBoundingClientRect().bottom - dragItemNodeClone.current.getBoundingClientRect().height / 2 > todo.getBoundingClientRect().top\n        ) {\n          const targetItemIdx = Number(todo.getAttribute('data-order-number'));\n          const reorderedTodoList = JSON.parse(JSON.stringify(todos));\n\n          reorderedTodoList.splice(targetItemIdx, 0, reorderedTodoList.splice(dragItemIdx.current, 1)[0]);\n          dragItemIdx.current = targetItemIdx;\n          dragItemNodeClone.current.setAttribute('data-order-number', `${targetItemIdx}`);\n          dragEnterEvent(reorderedTodoList);\n        }\n      });\n    }\n  };\n  const onTouchEndHandler = (e: TouchEvent<HTMLElement>) => {\n    if (isDragging) {\n      if (listContainer.current && dragItemNodeClone.current) {\n        listContainer.current.removeChild<HTMLElement>(dragItemNodeClone.current);\n      }\n      dragEndEvent();\n      setIsDragging(false);\n    }\n\n    dragItemNode.current = null;\n    dragItemNodeClone.current = null;\n    dragItemIdx.current = null;\n    dragItemRect.current = null;\n    dragItemRectOffsets.current = {\n      xOffset: 0,\n      yOffset: 0,\n    };\n    touchDuration.current = {\n      touchStartEvtTime: 0,\n      isFirstTouchMoveEvt: true,\n      touchMoveFirstEvtTime: 0,\n      touchMoveStartDelay: 0,\n    };\n  };\n\n  return (\n    <div\n      className={styles.wrapper}>\n      <div className={styles.listWrapper}>\n        <ul\n          className={styles.list}\n          ref={listContainer}\n        >\n          {\n            todos.map((todo, todoIdx) => {\n              return todosSortOrder === TodosSortOrder.ALL || (todosSortOrder === TodosSortOrder.ACTIVE && !todo.isCompleted) || (todosSortOrder === TodosSortOrder.COMPLETED && todo.isCompleted)\n                ?\n                <li\n                  key={todo.id}\n                  className={styles.listItem}\n                  data-is-completed={todo.isCompleted}\n                  data-is-dragging={isDragging ? dragItemIdx.current === todoIdx : false}\n                  data-order-number={todoIdx}\n                  draggable={isDraggable}\n                  onDragStart = {isDraggable && !isTouchDevice ? (e) => dragStartHandler(e, todoIdx) : undefined}\n                  onDragEnter = {isDraggable && !isTouchDevice ? isDragging ? (e) => dragEnterHandler(e, todoIdx) : undefined : undefined}\n                  onTouchStart = {isDraggable && isTouchDevice ? (e) => onTouchStartHandler(e, todoIdx) : undefined}\n                  onTouchMove = {isDraggable && isTouchDevice ? (e) => onTouchMoveHandler(e) : undefined}\n                  onTouchEnd = {isDraggable && isTouchDevice ? (e) => onTouchEndHandler(e) : undefined}\n                >\n                  <CustomCheckbox\n                    isChecked = {todo.isCompleted}\n                    isTouchDevice = {isTouchDevice}\n                    toggleCheckBoxHandler = {() => toggleCheckBoxHandler(todo.id)}\n                  />\n                  <span\n                    className={styles.listItemTitle}\n                    onClick = {() => editTodoHandler(todo.id, todo.title)}\n                  >\n                    {todo.title}\n                  </span>\n                  <div\n                    className={styles.listItemIconWrapper}\n                    data-is-touch-device={isTouchDevice}\n                    onClick = {() => deleteBtnHandler(todo.id, todo.title)}\n                  >\n                    <CrossIcon />\n                  </div>\n                </li>\n                :\n                null;\n            })\n          }\n        </ul>\n        <div className={styles.listControlsWrapper}>\n          <div className={styles.listControlsCounter}>\n            {`${activeTodosQuantity} ${activeTodosQuantity > 1 ? 'items left' : 'item left'}`}\n          </div>\n          {\n            !isSortControlsExternal\n              ?\n              <div\n                className={styles.listControlsSortBtnWrapper}\n                data-is-external={isSortControlsExternal}\n                onClick = {(e) => sortBtnHandler((e.target as HTMLButtonElement).id)}\n              >\n                <button\n                  className={styles.listControlsSortBtn}\n                  id={TodosSortOrder.ALL}\n                  data-is-active={todosSortOrder === TodosSortOrder.ALL}\n                  disabled={todosSortOrder === TodosSortOrder.ALL}\n                >\n                  {TodosSortOrder.ALL}\n                </button>\n                <button\n                  className={styles.listControlsSortBtn}\n                  id={TodosSortOrder.ACTIVE}\n                  data-is-active={todosSortOrder === TodosSortOrder.ACTIVE}\n                  disabled={todosSortOrder === TodosSortOrder.ACTIVE}\n                >\n                  {TodosSortOrder.ACTIVE}\n                </button>\n                <button\n                  className={styles.listControlsSortBtn}\n                  id={TodosSortOrder.COMPLETED}\n                  data-is-active={todosSortOrder === TodosSortOrder.COMPLETED}\n                  disabled={todosSortOrder === TodosSortOrder.COMPLETED}\n                >\n                  {TodosSortOrder.COMPLETED}\n                </button>\n              </div>\n              :\n              null\n          }\n          <button\n            className={styles.listControlsClrCompletedBtn}\n            onClick = {clrCompletedBtnHandler}\n          >\n            Clear completed\n          </button>\n        </div>\n      </div>\n      {\n        isSortControlsExternal\n          ?\n          <div\n            className={styles.listControlsSortBtnWrapper}\n            data-is-external={isSortControlsExternal}\n            onClick = {(e) => sortBtnHandler((e.target as HTMLButtonElement).id)}\n          >\n            <button\n              className={styles.listControlsSortBtn}\n              id={TodosSortOrder.ALL}\n              data-is-active={todosSortOrder === TodosSortOrder.ALL}\n              disabled={todosSortOrder === TodosSortOrder.ALL}\n            >\n              {TodosSortOrder.ALL}\n            </button>\n            <button\n              className={styles.listControlsSortBtn}\n              id={TodosSortOrder.ACTIVE}\n              data-is-active={todosSortOrder === TodosSortOrder.ACTIVE}\n              disabled={todosSortOrder === TodosSortOrder.ACTIVE}\n            >\n              {TodosSortOrder.ACTIVE}\n            </button>\n            <button\n              className={styles.listControlsSortBtn}\n              id={TodosSortOrder.COMPLETED}\n              data-is-active={todosSortOrder === TodosSortOrder.COMPLETED}\n              disabled={todosSortOrder === TodosSortOrder.COMPLETED}\n            >\n              {TodosSortOrder.COMPLETED}\n            </button>\n          </div>\n          :\n          null\n      }\n      <div\n        className={styles.listFooter}>\n        <span className={styles.listFooterText}>\n          {isTouchDevice ? 'Long tap on Todo to drag and drop it and reorder list' : 'Drag and drop to reorder list'}\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default TodoList;\n","import { FC, useState, useEffect } from 'react';\n\nimport styles from './SnackBar.module.css';\n\ninterface SnackBarProps {\n  message: string;\n  clearMsg: () => void;\n  duration?: number;\n}\n\nconst SnackBar: FC<SnackBarProps> = ({\n  message,\n  clearMsg,\n  duration = 6000,\n}) => {\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (!message) {\n      return;\n    }\n    setIsOpen(true);\n    setTimeout(() => {\n      setIsOpen(false);\n      clearMsg();\n    }, duration);\n  }, [message, clearMsg, duration]);\n\n  return (\n    <div\n      className={styles.snackBarWrapper}\n      data-is-open={isOpen}\n    >\n      <p className={styles.snackBarText}>{message}</p>\n    </div>\n  );\n};\n\nexport default SnackBar;\n","import { FC, useState } from 'react';\n\nimport { CrossIcon } from '../index';\n\nimport styles from './UserAvatar.module.css';\n\ninterface UserAvatarProps {\n  user: string,\n  logOut: () => void,\n}\n\nconst UserAvatar: FC<UserAvatarProps> = ({\n  user,\n  logOut,\n}) => {\n  const [isTooltipActive, setIsTooltipActive] = useState<boolean>(false);\n\n  const avatarOnClickHandler = () => {\n    setIsTooltipActive(!isTooltipActive);\n  };\n\n  const avatarLogOutHandler = () => {\n    logOut();\n    setIsTooltipActive(!isTooltipActive);\n  };\n\n  return (\n    <div className={styles.wrapper}>\n      <div\n        className={styles.userAvatar}\n        onClick = {avatarOnClickHandler}\n      >\n        {user.charAt(0).toUpperCase()}\n      </div>\n      <div\n        className={styles.userAvatarTooltip}\n        data-is-active={`${isTooltipActive}`}\n      >\n        <div className={styles.tooltipHeader}>\n          <span className={styles.tooltipTitle}>User info</span>\n          <div\n            className={styles.tooltipIconWrapper}\n            onClick = {avatarOnClickHandler}\n          >\n            <CrossIcon />\n          </div>\n        </div>\n        <p className={styles.tooltipText}>User: {user}</p>\n        <button\n          className={styles.tooltipBtn}\n          onClick = {avatarLogOutHandler}\n        >\n          Log Out\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default UserAvatar;\n","import { FC, ReactNode } from 'react';\n\nimport { CrossIcon } from '../index';\n\nimport styles from './Modal.module.css';\n\ninterface ModalProps {\n  isModalActive: boolean;\n  modalTitle?: string;\n  closeModalHandler: () => void;\n  children?: ReactNode\n}\n\nconst Modal: FC<ModalProps> = ({\n  isModalActive = false,\n  modalTitle = 'Modal window',\n  closeModalHandler,\n  children = null,\n}) => {\n  return isModalActive ?\n    (\n      <div className={styles.modalWrapper}>\n        <div className={styles.modal}>\n          <div className={styles.modalHeader}>\n            <h3 className={styles.modalTitle}>{modalTitle}</h3>\n            <button\n              className={styles.btnClose}\n              onClick = {closeModalHandler}\n            >\n              <CrossIcon />\n            </button>\n          </div>\n          <div className={styles.modalContent}>\n            {children}\n          </div>\n        </div>\n        <div\n          className={styles.modalLayout}\n          onClick = {closeModalHandler}\n        >\n        </div>\n      </div>\n    ) : null;\n};\n\nexport default Modal;\n","import { FC } from 'react';\n\nimport styles from './Loader.module.css';\n\ninterface LoaderProps {}\n\nconst Loader: FC<LoaderProps> = () => {\n  return (\n    <div className={styles.loader}><div></div><div></div><div></div><div></div></div>\n  );\n};\n\nexport default Loader;\n","import { FC } from 'react';\n\ninterface MoonIconProps {\n  width?: number,\n  height?: number,\n  color?: string;\n}\n\nconst MoonIcon: FC<MoonIconProps> = ({\n  width = 26,\n  height = 26,\n  color = '#FFF',\n\n}) => {\n  return (\n    <>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width={width}\n        height={height}\n      >\n        <path\n          fill={color}\n          fillRule=\"evenodd\"\n          d=\"M13 0c.81 0 1.603.074 2.373.216C10.593 1.199 7 5.43 7 10.5 7 16.299 11.701 21 17.5 21c2.996 0 5.7-1.255 7.613-3.268C23.22 22.572 18.51 26 13 26 5.82 26 0 20.18 0 13S5.82 0 13 0z\"\n        />\n      </svg>\n    </>\n  );\n};\n\nexport default MoonIcon;\n","import { FC } from 'react';\n\ninterface SunIconProps {\n  width?: number,\n  height?: number,\n  color?: string;\n}\n\nconst SunIcon: FC<SunIconProps> = ({\n  width = 26,\n  height = 26,\n  color = '#FFF',\n\n}) => {\n  return (\n    <>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width={width}\n        height={height}\n      >\n        <path\n          fill={color}\n          fillRule=\"evenodd\"\n          d=\"M13 21a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-5.657-2.343a1 1 0 010 1.414l-2.121 2.121a1 1 0 01-1.414-1.414l2.12-2.121a1 1 0 011.415 0zm12.728 0l2.121 2.121a1 1 0 01-1.414 1.414l-2.121-2.12a1 1 0 011.414-1.415zM13 8a5 5 0 110 10 5 5 0 010-10zm12 4a1 1 0 110 2h-3a1 1 0 110-2h3zM4 12a1 1 0 110 2H1a1 1 0 110-2h3zm18.192-8.192a1 1 0 010 1.414l-2.12 2.121a1 1 0 01-1.415-1.414l2.121-2.121a1 1 0 011.414 0zm-16.97 0l2.121 2.12A1 1 0 015.93 7.344L3.808 5.222a1 1 0 011.414-1.414zM13 0a1 1 0 011 1v3a1 1 0 11-2 0V1a1 1 0 011-1z\"\n        />\n      </svg>\n    </>\n  );\n};\n\nexport default SunIcon;\n","import { FC } from 'react';\n\ninterface CrossIconProps {\n  width?: number,\n  height?: number,\n  color?: string;\n}\n\nconst CrossIcon: FC<CrossIconProps> = ({\n  width = 18,\n  height = 18,\n  color = 'currentColor',\n\n}) => {\n  return (\n    <>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width={width}\n        height={height}\n      >\n        <path\n          fill={color}\n          fillRule=\"evenodd\"\n          d=\"M16.97 0l.708.707L9.546 8.84l8.132 8.132-.707.707-8.132-8.132-8.132 8.132L0 16.97l8.132-8.132L0 .707.707 0 8.84 8.132 16.971 0z\"\n        />\n      </svg>\n    </>\n  );\n};\n\nexport default CrossIcon;\n","import { FC } from 'react';\n\ninterface CheckIconProps {\n  width?: number,\n  height?: number,\n  strokeWidth?: number,\n  color?: string;\n}\n\nconst CheckIcon: FC<CheckIconProps> = ({\n  width = 11,\n  height = 9,\n  strokeWidth = 2,\n  color = 'none',\n\n}) => {\n  return (\n    <>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width={width}\n        height={height}\n      >\n        <path\n          fill={color}\n          stroke=\"#FFF\"\n          strokeWidth={strokeWidth}\n          d=\"M1 4.304L3.696 7l6-6\"\n        />\n      </svg>\n    </>\n  );\n};\n\nexport default CheckIcon;\n","import { FC } from 'react';\n\ninterface EyeIconProps {\n  width?: number,\n  height?: number,\n  color?: string;\n}\n\nconst EyeIcon: FC<EyeIconProps> = ({\n  width = 26,\n  height = 26,\n  color = 'currentColor',\n\n}) => {\n  return (\n    <>\n      <svg\n        width={width}\n        height={height}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 576 512\"\n      >\n        <path\n          fill={color}\n          d=\"M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z\"\n        >\n        </path>\n      </svg>\n    </>\n  );\n};\n\nexport default EyeIcon;\n","import { FC } from 'react';\n\ninterface EyeSlashIconProps {\n  width?: number,\n  height?: number,\n  color?: string;\n}\n\nconst EyeSlashIcon: FC<EyeSlashIconProps> = ({\n  width = 26,\n  height = 26,\n  color = 'currentColor',\n\n}) => {\n  return (\n    <>\n      <svg\n        width={width}\n        height={height}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 640 512\"\n      >\n        <path\n          fill={color}\n          d=\"M634 471L36 3.51A16 16 0 0 0 13.51 6l-10 12.49A16 16 0 0 0 6 41l598 467.49a16 16 0 0 0 22.49-2.49l10-12.49A16 16 0 0 0 634 471zM296.79 146.47l134.79 105.38C429.36 191.91 380.48 144 320 144a112.26 112.26 0 0 0-23.21 2.47zm46.42 219.07L208.42 260.16C210.65 320.09 259.53 368 320 368a113 113 0 0 0 23.21-2.46zM320 112c98.65 0 189.09 55 237.93 144a285.53 285.53 0 0 1-44 60.2l37.74 29.5a333.7 333.7 0 0 0 52.9-75.11 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64c-36.7 0-71.71 7-104.63 18.81l46.41 36.29c18.94-4.3 38.34-7.1 58.22-7.1zm0 288c-98.65 0-189.08-55-237.93-144a285.47 285.47 0 0 1 44.05-60.19l-37.74-29.5a333.6 333.6 0 0 0-52.89 75.1 32.35 32.35 0 0 0 0 29.19C89.72 376.41 197.08 448 320 448c36.7 0 71.71-7.05 104.63-18.81l-46.41-36.28C359.28 397.2 339.89 400 320 400z\"\n        >\n        </path>\n      </svg>\n    </>\n  );\n};\n\nexport default EyeSlashIcon;\n","import { useEffect, useState } from 'react';\nimport { getAuth, signOut } from 'firebase/auth';\n\nimport { LocalStorageKeys, ThemeTypes } from './types/types';\nimport { RootState } from './store/index';\nimport { setUserId, setAuthErrMsg } from './store/userSlice';\nimport { getTodosFromDbThunk, saveTodosToDbThunk, setTodosErrMsg, getTodosSortOrderDbThunk } from './store/todosSlice';\nimport { useAppSelector, useAppDispatch } from './hooks/redux';\nimport { AppRouter, ThemeSwitcher, SnackBar, UserAvatar } from './components';\n\nimport { auth } from './api/firebase';\n\nimport styles from './App.module.css';\n\nfunction App() {\n  const [themeType, setThemeType] = useState<string>(localStorage.getItem(LocalStorageKeys.THEMETYPE) || ThemeTypes.LIGHT);\n  const [userName, setUserName] = useState<string | null>('');\n  const { userId, authErrMsg } = useAppSelector((state: RootState) => state.user);\n  const { todoList, updateDb, todosErrMsg } = useAppSelector((state: RootState) => state.todos);\n  const reduxDispatch = useAppDispatch();\n\n  const toggleThemeType = () => {\n    setThemeType(themeType === ThemeTypes.LIGHT ? ThemeTypes.DARK: ThemeTypes.LIGHT);\n  };\n  const logOut = () => signOut(getAuth());\n  const clearErrMsg = () => {\n    if (authErrMsg) {\n      reduxDispatch(setAuthErrMsg({ authErrMsg: '' }));\n    }\n    if (todosErrMsg) {\n      reduxDispatch(setTodosErrMsg({ todosErrMsg: '' }));\n    }\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(LocalStorageKeys.THEMETYPE) !== themeType) {\n      localStorage.setItem(LocalStorageKeys.THEMETYPE, themeType);\n    }\n  }, [themeType]);\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      if (user) {\n        setUserName(user.email);\n      } else {\n        localStorage.removeItem(LocalStorageKeys.USERAUTHTOKEN);\n        reduxDispatch(setUserId({ userId: '' }));\n      }\n    });\n    return () => unsubscribe();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (!userId) {\n      return;\n    }\n    reduxDispatch(getTodosFromDbThunk(userId));\n    reduxDispatch(getTodosSortOrderDbThunk(userId));\n  }, [userId, reduxDispatch]);\n\n  useEffect(() => {\n    if (!updateDb) {\n      return;\n    }\n    reduxDispatch(saveTodosToDbThunk({ todoList, userId }));\n  }, [updateDb, todoList, userId, reduxDispatch]);\n\n  return (\n    <div\n      className={styles.App}\n      data-theme-type = {themeType}\n    >\n      <div className={styles.appContainer}>\n        <SnackBar\n          message = {authErrMsg ? authErrMsg : todosErrMsg ? todosErrMsg : ''}\n          clearMsg={clearErrMsg}\n          duration = {8000}\n        />\n        <header className={styles.header}>\n          <h1 className={styles.headerTitle}>todo</h1>\n          <div className={styles.controlsWrapper}>\n            <ThemeSwitcher\n              themeType = {themeType}\n              onClickHandler = {toggleThemeType}\n            />\n            {userId && <UserAvatar\n              user={userName ? userName : 'User'}\n              logOut={logOut}/>}\n          </div>\n        </header>\n        <AppRouter />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport user from './userSlice';\nimport todos from './todosSlice';\n\nexport const store = configureStore({\n  reducer: {\n    user,\n    todos,\n  },\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppStore = typeof store;\nexport type AppDispatch = AppStore['dispatch'];\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider as ReduxStoreProvider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\n\nimport { store } from './store';\n\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ReduxStoreProvider store={store}>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </ReduxStoreProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}